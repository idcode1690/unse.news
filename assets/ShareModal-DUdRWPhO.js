import{j as f,a as ie,r as R}from"./index-DM6TOinN.js";import{F as le,E as de,t as Q,p as ue,q as z,r as W,B as X}from"./cookieUtils-BrhwHgKE.js";const fe={ê°‘:"ç”²",ì„:"ä¹™",ë³‘:"ä¸™",ì •:"ä¸",ë¬´:"æˆŠ",ê¸°:"å·±",ê²½:"åºš",ì‹ :"è¾›",ì„:"å£¬",ê³„:"ç™¸"},me={ì:"å­",ì¶•:"ä¸‘",ì¸:"å¯…",ë¬˜:"å¯",ì§„:"è¾°",ì‚¬:"å·³",ì˜¤:"åˆ",ë¯¸:"æœª",ì‹ :"ç”³",ìœ :"é…‰",ìˆ :"æˆŒ",í•´:"äº¥"};function he(n){if(!n)return"";const e=String(n).trim();return/^[ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸]$/.test(e)?e:fe[e]||e}function pe(n){if(!n)return"";const e=String(n).trim();return/^[å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥]$/.test(e)?e:me[e]||e}function be(n){return n?Array.isArray(n)?n.map(e=>e||{stem:"",branch:""}):[n.year,n.month,n.day,n.hour].map(e=>e||{stem:"",branch:""}):[]}function B(n){return le[n]||""}function Z(n){return de[n]||""}const ut=({pillars:n,idPrefix:e=""})=>{const t=be(n),o=["ì—°","ì›”","ì¼","ì‹œ"],s=["year","month","day","hour"];return f.jsx("div",{className:"pillars",children:t.map((r,a)=>{const i=he(r?.stem),d=pe(r?.branch),u=B(i)||B(r?.stem),m=B(d)||B(r?.branch),c=s[a],l=e?`${e}-${c}`:void 0;return f.jsxs("div",{className:"pillar","data-type":c,id:l,children:[f.jsx("h3",{children:o[a]}),f.jsxs("div",{className:"pill",children:[f.jsx("span",{className:u,children:i||"â€”"}),f.jsx("span",{children:"Â·"}),f.jsx("span",{className:m,children:d||"â€”"})]}),f.jsx("div",{className:"gx",children:[Z(u),Z(m)].filter(Boolean).join(" Â· ")})]},a)})})},H=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],$=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],P={ç”²:"wood",ä¹™:"wood",ä¸™:"fire",ä¸:"fire",æˆŠ:"earth",å·±:"earth",åºš:"metal",è¾›:"metal",å£¬:"water",ç™¸:"water"},K={ç”²:1,ä¸™:1,æˆŠ:1,åºš:1,å£¬:1,ä¹™:0,ä¸:0,å·±:0,è¾›:0,ç™¸:0},ye={å­:"water",ä¸‘:"earth",å¯…:"wood",å¯:"wood",è¾°:"earth",å·³:"fire",åˆ:"fire",æœª:"earth",ç”³:"metal",é…‰:"metal",æˆŒ:"earth",äº¥:"water"},A=(n,e)=>(n%e+e)%e,ge={å­:["ç™¸"],ä¸‘:["å·±","ç™¸","è¾›"],å¯…:["ç”²","ä¸™","æˆŠ"],å¯:["ç”²","ä¹™"],è¾°:["æˆŠ","ä¹™","ç™¸"],å·³:["ä¸™","æˆŠ","åºš"],åˆ:["ä¸™","å·±","ä¸"],æœª:["å·±","ä¹™","ä¸"],ç”³:["æˆŠ","å£¬","åºš"],é…‰:["è¾›"],æˆŒ:["æˆŠ","è¾›","ä¸"],äº¥:["æˆŠ","ç”²","å£¬"]},we={å­:"ç™¸",ä¸‘:"å·±",å¯…:"ç”²",å¯:"ä¹™",è¾°:"æˆŠ",å·³:"ä¸™",åˆ:"ä¸™",æœª:"å·±",ç”³:"åºš",é…‰:"è¾›",æˆŒ:"æˆŠ",äº¥:"å£¬"},xe=["ì¥ìƒ","ëª©ìš•","ê´€ëŒ€","ê±´ë¡","ì œì™•","ì‡ ","ë³‘","ì‚¬","ë¬˜","ì ˆ","íƒœ","ì–‘"],Se={ç”²:11,ä¹™:6,ä¸™:2,ä¸:9,æˆŠ:2,å·±:9,åºš:5,è¾›:0,å£¬:8,ç™¸:3},ve={äº¥:{ç”³:"ê²ì‚´",å¯:"ìœ¡í•´ì‚´",äº¥:"ë§ì‹ ì‚´",åˆ:"ì¬ì‚´"}};function ee(n,e){if(!n||!e)return"";const t=P[n],o=P[e],s=K[n],r=K[e];return o===t?s===r?"ë¹„ê²¬":"ê²ì¬":t==="wood"&&o==="fire"||t==="fire"&&o==="earth"||t==="earth"&&o==="metal"||t==="metal"&&o==="water"||t==="water"&&o==="wood"?s===r?"ì‹ì‹ ":"ìƒê´€":o==="wood"&&t==="fire"||o==="fire"&&t==="earth"||o==="earth"&&t==="metal"||o==="metal"&&t==="water"||o==="water"&&t==="wood"?s===r?"ì •ì¸":"í¸ì¸":t==="wood"&&o==="earth"||t==="fire"&&o==="metal"||t==="earth"&&o==="water"||t==="metal"&&o==="wood"||t==="water"&&o==="fire"?s===r?"í¸ì¬":"ì •ì¬":o==="wood"&&t==="earth"||o==="fire"&&t==="metal"||o==="earth"&&t==="water"||o==="metal"&&t==="wood"||o==="water"&&t==="fire"?s===r?"í¸ê´€":"ì •ê´€":""}function Ee(n,e){const t=Se[n];if(t==null)return"";const o=$.indexOf(e);if(o<0)return"";const s=K[n]?1:-1,r=A((o-t)*s,12);return xe[r]||""}function Ae(n,e){const t=ve[n];return t&&t[e]||""}function Me(n,e,t){if(!t||!t.useLocalSolar)return{hour:n,minute:e};const o=typeof t.longitude=="number"?t.longitude:126.9784,s=Math.round((135-o)*4);let r=n*60+e-s;return r=A(r,1440),{hour:Math.floor(r/60),minute:r%60}}function _e(n,e,t){let o=n;(e===1||e===2&&t<4)&&(o=n-1);const r=o-1984;return{stem:H[A(r,10)],branch:$[A(r,12)]}}function Ne(n,e,t,o){let s;e===2&&t>=4||e===3&&t<5?s=2:e===3&&t>=5||e===4&&t<4?s=3:e===4&&t>=4||e===5&&t<5?s=4:e===5&&t>=5||e===6&&t<5?s=5:e===6&&t>=5||e===7&&t<7?s=6:e===7&&t>=7||e===8&&t<7?s=7:e===8&&t>=7||e===9&&t<7?s=8:e===9&&t>=7||e===10&&t<8?s=9:e===10&&t>=8||e===11&&t<7?s=10:e===11&&t>=7||e===12&&t<7?s=11:e===12&&t>=7||e===1&&t<5?s=0:s=1;const r=H.indexOf(o);let a;r===0||r===5?a=2:r===1||r===6?a=4:r===2||r===7?a=6:r===3||r===8?a=8:a=0;const i=A(a+A(s-2,12),10);return{stem:H[i],branch:$[s]}}function je(n,e,t,o=0,s=0){let r=Q(n,e,t);o*60+s>=1410&&(r+=1);const a=Q(1912,2,18),i=r-a;return{stem:H[A(i,10)],branch:$[A(i,12)]}}function Re(n,e=0,t=0){const o=e*60+t,s=A(o-1410,1440),r=Math.floor(s/120),a=$[A(r,12)],i=H.indexOf(n);let d;return i===0||i===5?d=0:i===1||i===6?d=2:i===2||i===7?d=4:i===3||i===8?d=6:d=8,{stem:H[A(d+r,10)],branch:a}}function He(n,e,t){const o=[[1,5,"ì†Œí•œ"],[1,20,"ëŒ€í•œ"],[2,4,"ì…ì¶˜"],[2,19,"ìš°ìˆ˜"],[3,6,"ê²½ì¹©"],[3,21,"ì¶˜ë¶„"],[4,5,"ì²­ëª…"],[4,20,"ê³¡ìš°"],[5,6,"ì…í•˜"],[5,21,"ì†Œë§Œ"],[6,6,"ë§ì¢…"],[6,21,"í•˜ì§€"],[7,7,"ì†Œì„œ"],[7,23,"ëŒ€ì„œ"],[8,7,"ì…ì¶”"],[8,23,"ì²˜ì„œ"],[9,7,"ë°±ë¡œ"],[9,23,"ì¶”ë¶„"],[10,8,"í•œë¡œ"],[10,23,"ìƒê°•"],[11,7,"ì…ë™"],[11,22,"ì†Œì„¤"],[12,7,"ëŒ€ì„¤"],[12,22,"ë™ì§€"]],s=new Date(n,e-1,t);let r=o[0][2];for(const[a,i,d]of o){const u=new Date(n,a-1,i);s>=u&&(r=d)}return{name:r}}function ft(n,e,t,o=0,s=0,r={}){const{hour:a,minute:i}=Me(o,s,r),d=_e(n,e,t),u=Ne(n,e,t,d.stem),m=je(n,e,t,a,i),c=Re(m.stem,a,i),l=He(n,e,t),p=b=>{const v=ge[b.branch]||[],w=we[b.branch]||v[0];return{...b,tenGodStem:ee(m.stem,b.stem),tenGodBranch:w?ee(m.stem,w):"",hiddenStems:v,lifeStage:Ee(m.stem,b.branch),shinsal:Ae(m.branch,b.branch)||"",elemStem:P[b.stem],elemBranch:ye[b.branch]}};return{year:p(d),month:p(u),day:p(m),hour:p(c),season:l}}const De={ç”²:"ëª©",ä¹™:"ëª©",ä¸™:"í™”",ä¸:"í™”",æˆŠ:"í† ",å·±:"í† ",åºš:"ê¸ˆ",è¾›:"ê¸ˆ",å£¬:"ìˆ˜",ç™¸:"ìˆ˜"},ke={å­:"ìˆ˜",ä¸‘:"í† ",å¯…:"ëª©",å¯:"ëª©",è¾°:"í† ",å·³:"í™”",åˆ:"í™”",æœª:"í† ",ç”³:"ê¸ˆ",é…‰:"ê¸ˆ",æˆŒ:"í† ",äº¥:"ìˆ˜"},Te={å­:[{stem:"å£¬",w:1}],ä¸‘:[{stem:"å·±",w:.5},{stem:"ç™¸",w:.3},{stem:"è¾›",w:.2}],å¯…:[{stem:"ç”²",w:.6},{stem:"ä¸™",w:.3},{stem:"æˆŠ",w:.1}],å¯:[{stem:"ä¹™",w:1}],è¾°:[{stem:"æˆŠ",w:.5},{stem:"ä¹™",w:.3},{stem:"ç™¸",w:.2}],å·³:[{stem:"ä¸™",w:.6},{stem:"åºš",w:.3},{stem:"æˆŠ",w:.1}],åˆ:[{stem:"ä¸",w:.7},{stem:"å·±",w:.3}],æœª:[{stem:"å·±",w:.5},{stem:"ä¸",w:.3},{stem:"ä¹™",w:.2}],ç”³:[{stem:"åºš",w:.7},{stem:"å£¬",w:.2},{stem:"æˆŠ",w:.1}],é…‰:[{stem:"è¾›",w:1}],æˆŒ:[{stem:"æˆŠ",w:.6},{stem:"è¾›",w:.3},{stem:"ä¸",w:.1}],äº¥:[{stem:"å£¬",w:.7},{stem:"ç”²",w:.3}]},$e=[["å­","åˆ"],["ä¸‘","æœª"],["å¯…","ç”³"],["å¯","é…‰"],["è¾°","æˆŒ"],["å·³","äº¥"]],te=[["å­","æœª"],["ä¸‘","åˆ"],["å¯…","å·³"],["å¯","è¾°"],["ç”³","äº¥"],["é…‰","æˆŒ"]],Oe=[["å­","å¯"],["ä¸‘","æˆŒ"],["å¯…","äº¥"],["å¯","å­"],["è¾°","ä¸‘"],["å·³","ç”³"],["åˆ","é…‰"],["æœª","è¾°"],["ç”³","å·³"],["é…‰","åˆ"],["æˆŒ","æœª"],["äº¥","å¯…"]],Ce=[["å¯…","å·³","ç”³"],["ä¸‘","æˆŒ","æœª"]],Ie=["è¾°","åˆ","é…‰","å­"],Be=[{set:["äº¥","å¯","æœª"],element:"ëª©"},{set:["å¯…","åˆ","æˆŒ"],element:"í™”"},{set:["å·³","é…‰","ä¸‘"],element:"ê¸ˆ"},{set:["ç”³","å­","è¾°"],element:"ìˆ˜"}],Fe=[{set:["äº¥","å­","ä¸‘"],element:"ìˆ˜"},{set:["å¯…","å¯","è¾°"],element:"ëª©"},{set:["å·³","åˆ","æœª"],element:"í™”"},{set:["ç”³","é…‰","æˆŒ"],element:"ê¸ˆ"}],h=["ëª©","í™”","í† ","ê¸ˆ","ìˆ˜"],re=(n,e)=>h[(h.indexOf(n)+1)%5]===e,Ye=(n,e)=>re(e,n),se=(n,e)=>h[(h.indexOf(n)+2)%5]===e,Le=(n,e)=>se(e,n),U=n=>(n??"").toString().trim(),D=n=>De[U(n)]||null,ae=n=>ke[U(n)]||null,Ge=n=>Array.from(new Set(n));function Pe(n,e={includeHidden:!0}){const t={ëª©:0,í™”:0,í† :0,ê¸ˆ:0,ìˆ˜:0},o=(r,a=1)=>{t[r]!=null&&(t[r]+=a)},s=[n?.year,n?.month,n?.day,n?.hour].filter(Boolean);return s.forEach(r=>{const a=D(r.stem);a&&o(a,1)}),s.forEach(r=>{const a=ae(r.branch);a&&o(a,.8)}),e.includeHidden&&s.forEach(r=>{(Te[U(r.branch)]||[]).forEach(({stem:i,w:d})=>{const u=D(i);u&&o(u,d*.5)})}),t}function Ke(n){const e=D(n?.day?.stem);if(!e)return{score:0,level:"ë¶ˆëª…",rationale:"ì¼ê°„ ë¯¸í™•ì¸"};const t=Pe(n,{includeHidden:!0}),o=t[e]||0,s=h[(h.indexOf(e)+4)%5],r=h[(h.indexOf(e)+1)%5],a=h[(h.indexOf(e)+2)%5],i=h[(h.indexOf(e)+3)%5],d=t[s]||0,u=t[r]||0,m=t[a]||0,c=t[i]||0,l=n?.month?.branch,p=["å¯…","å¯","è¾°"].includes(l)?"ë´„":["å·³","åˆ","æœª"].includes(l)?"ì—¬ë¦„":["ç”³","é…‰","æˆŒ"].includes(l)?"ê°€ì„":"ê²¨ìš¸",v={ë´„:"ëª©",ì—¬ë¦„:"í™”",ê°€ì„:"ê¸ˆ",ê²¨ìš¸:"ìˆ˜"}[p]===e?.4:0,w=o*1+d*.7+u*.2+v-m*.6-c*.3;let _="ì¤‘ê°„";w>=2.8?_="ì‹ ê°•":w<=1.8&&(_="ì‹ ì•½");const k=`ì¼ê°„(${e}) ë™ë¥˜=${o.toFixed(1)}, ì¸ì„±=${d.toFixed(1)}, ì‹ìƒ=${u.toFixed(1)}, ê´€ì‚´=${m.toFixed(1)}, ì¬ì„±=${c.toFixed(1)}, ê³„ì ˆë³´ì •=${v.toFixed(1)} â†’ ì ìˆ˜=${w.toFixed(2)}`;return{score:w,level:_,rationale:k,counts:t,monthGroup:p}}function ze(n){const e=Ge([n?.year?.branch,n?.month?.branch,n?.day?.branch,n?.hour?.branch].filter(Boolean)),t=(c,l)=>e.includes(c)&&e.includes(l),o=c=>c.every(l=>e.includes(l)),s=Be.filter(c=>o(c.set)).map(c=>({type:"ì‚¼í•©",set:c.set,element:c.element})),r=Fe.filter(c=>o(c.set)).map(c=>({type:"ë°©í•©",set:c.set,element:c.element})),a=$e.filter(([c,l])=>t(c,l)).map(([c,l])=>({type:"ì¶©",pair:[c,l]})),i=te.filter(([c,l])=>t(c,l)).map(([c,l])=>({type:"í•´",pair:[c,l]})),d=Oe.filter(([c,l])=>t(c,l)).map(([c,l])=>({type:"íŒŒ",pair:[c,l]})),u=[];Ce.forEach(c=>{o(c)&&u.push({type:"í˜•(ì‚¼í˜•)",set:c})}),Ie.forEach(c=>{e.filter(p=>p===c).length>=2&&u.push({type:"í˜•(ìí˜•)",pair:[c,c]})});const m=te.filter(([c,l])=>t(c,l)).map(([c,l])=>({type:"ì›ì§„",pair:[c,l]}));return{samhap:s,banghap:r,chong:a,hae:i,pa:d,hyeong:u,wonjin:m}}function We(n){const e=D(n?.day?.stem),t=ae(n?.month?.branch);if(!e||!t)return{type:"ë¶ˆëª…",basis:"ì¼ê°„/ì›”ì§€ í™•ì¸ ë¶ˆê°€"};let o="ì¡ê²©";return t===e?o="ë¹„ê²¬ê²©":Ye(e,t)?o="ì¸ìˆ˜ê²©":re(e,t)?o="ì‹ìƒê²©":Le(e,t)?o="ê´€ì‚´ê²©":se(e,t)&&(o="ì¬ê²©"),{type:o,basis:`ì›”ì§€(${n?.month?.branch}:${t}) vs ì¼ê°„(${e}) ê´€ê³„`}}function Ue(n,e){const t=D(n?.day?.stem);if(!t)return{flow:[],temperature:[],notes:[]};const o=n?.month?.branch,s=["å¯…","å¯","è¾°"].includes(o)?"ë´„":["å·³","åˆ","æœª"].includes(o)?"ì—¬ë¦„":["ç”³","é…‰","æˆŒ"].includes(o)?"ê°€ì„":"ê²¨ìš¸",r=h[(h.indexOf(t)+4)%5],a=h[(h.indexOf(t)+2)%5],i=h[(h.indexOf(t)+3)%5],d=e?.level==="ì‹ ì•½"?[t,r]:e?.level==="ì‹ ê°•"?[a,i]:[t,a],u=s==="ê²¨ìš¸"?["í™”"]:s==="ì—¬ë¦„"?["ìˆ˜"]:s==="ë´„"?["ê¸ˆ","ìˆ˜"]:["ëª©","ìˆ˜"],m=[`ê³„ì ˆ=${s}, ì¼ê°„=${t}, ì‹ ê°•ë„=${e?.level||"ë¶ˆëª…"}`,`ìˆœí™˜ìš©ì‹ (íœ´ë¦¬ìŠ¤í‹±)=${d.join(", ")}`,`ì¡°í›„ìš©ì‹ (ê·¼ì‚¬)=${u.join(", ")}`];return{flow:d,temperature:u,notes:m}}const qe=new Set(["ç”²","ä¸™","æˆŠ","åºš","å£¬"]);function Je(n){return qe.has(n)}function Ve(n,e){const t=W.indexOf(n),o=z.indexOf(e);if(t<0||o<0)return-1;for(let s=0;s<60;s++)if(s%10===t&&s%12===o)return s;return-1}function Qe(n){const e=n%60%10,t=n%60%12;return{stem:W[e],branch:z[t]}}const Xe=["ì†Œí•œ","ì…ì¶˜","ê²½ì¹©","ì²­ëª…","ì…í•˜","ë§ì¢…","ì†Œì„œ","ì…ì¶”","ë°±ë¡œ","í•œë¡œ","ì…ë™","ëŒ€ì„¤"];function Y(n){const e={};ue.forEach(o=>{e[o.name]={month:o.month,day:o.approxDay}});const t=[];for(const o of Xe){const s=e[o];s&&t.push({name:o,date:new Date(n,s.month-1,s.day,0,0,0)})}return t}function Ze(n,e){return(e-n)/(1e3*60*60*24)}function et(n,e){if(!n?.month||!n?.year)return{direction:"ë¶ˆëª…",start:{years:0,months:0,days:0},list:[]};const t=new Date(e.y,(e.m||1)-1,e.d,e.hh||0,e.mm||0,0),o=e.gender!=="female",s=e.yearStem||n.year.stem,r=Je(s),a=o&&r||!o&&!r,i=a?"ìˆœí–‰":"ì—­í–‰",d=a?1:-1,u=t.getFullYear(),m=Y(u),c=Y(u+1),l=Y(u-1);let p=null;if(a)p=[...m,...c].map(g=>g.date).find(g=>g.getTime()>t.getTime())||c[0]?.date;else{const y=[...l,...m].map(g=>g.date).filter(g=>g.getTime()<t.getTime());p=y[y.length-1]||l[l.length-1]?.date}p||(p=new Date(u,t.getMonth(),t.getDate()+5));const b=Math.max(0,Math.round(Ze(t,p))),v=b*4,w=Math.floor(v/12),_=v%12,k=Ve(n.month.stem,n.month.branch),O=[],F=8;for(let y=1;y<=F;y++){const g=(k+d*y+60)%60,T=Qe(g),j=w+(y-1)*10,N=j+9;O.push({order:y,pillar:T,ageStart:j,ageEnd:N})}let C=null;try{const y=new Date(t.getTime()),g=y.getFullYear(),T=y.getMonth(),j=y.getDate(),N=new Date(g,T+v,j);C=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-${String(N.getDate()).padStart(2,"0")}`}catch{}return{direction:i,start:{years:w,months:_,days:b},startDate:C,list:O}}const tt=["ê°‘","ì„","ë³‘","ì •","ë¬´","ê¸°","ê²½","ì‹ ","ì„","ê³„"],nt=["ì","ì¶•","ì¸","ë¬˜","ì§„","ì‚¬","ì˜¤","ë¯¸","ì‹ ","ìœ ","ìˆ ","í•´"];function L(n){let e=(n-1984)%60;return e<0&&(e+=60),e}function ne(n){return{stem:tt[n%10],branch:nt[n%12]}}function oe(n){const e=n%60%10,t=n%60%12;return{stem:W[e],branch:z[t]}}function ot(n=new Date().getFullYear(),e=10){const t=[];for(let o=0;o<e;o++){const s=n+o,r=L(s);t.push({year:s,pillarKor:ne(r),pillarHan:oe(r)})}return{currentYear:n,currentKor:ne(L(n)),currentHan:oe(L(n)),list:t}}function mt(n,e={}){const t=Ke(n),o=ze(n),s=We(n),r=Ue(n,t);let a=null;e.birth&&e.birth.y&&(a=et(n,e.birth));const i=new Date().getFullYear(),d=ot(i,10);return{counts:t.counts,strength:{score:Number(t.score?.toFixed?.(2)??t.score),level:t.level,rationale:t.rationale,monthGroup:t.monthGroup},relations:o,geoguk:s,yongshin:r,daewoon:a,sewoon:d}}function ht(n){return D(n)}const rt={},G="ìš´ì„¸ë‰´ìŠ¤",st=rt?.VITE_SITE_URL&&String(void 0)||(typeof window<"u"?window.location.origin:"https://idcode1690.github.io/unse");function S(n,e){const t=Object.entries(e).map(([s,r])=>`[${s}="${r}"]`).join("");let o=document.head.querySelector(`${n}${t}`);return o||(o=document.createElement(n),Object.entries(e).forEach(([s,r])=>o.setAttribute(s,r)),document.head.appendChild(o)),o}function at(n){return!n||!n.trim()?G:n.includes(G)?n:`${n} | ${G}`}function pt({title:n,description:e,path:t="/",image:o="/og-image.png",noIndex:s=!1}){const r=`${st}${t.startsWith("#")||t.startsWith("/")?t:`/${t}`}`,a=at(n);document.title=a,e&&S("meta",{name:"description"}).setAttribute("content",e),S("meta",{name:"robots"}).setAttribute("content",s?"noindex,nofollow":"index,follow"),S("link",{rel:"canonical"}).setAttribute("href",r),S("meta",{property:"og:title"}).setAttribute("content",a),S("meta",{property:"og:description"}).setAttribute("content",e||""),S("meta",{property:"og:type"}).setAttribute("content","website"),S("meta",{property:"og:url"}).setAttribute("content",r),S("meta",{property:"og:image"}).setAttribute("content",o),S("meta",{name:"twitter:card"}).setAttribute("content","summary_large_image"),S("meta",{name:"twitter:title"}).setAttribute("content",a),S("meta",{name:"twitter:description"}).setAttribute("content",e||""),S("meta",{name:"twitter:image"}).setAttribute("content",o)}var ct=ie();function bt({isOpen:n,onClose:e,pageTitle:t="ìš´ì„¸ë‰´ìŠ¤",shareText:o="ìœ ìš©í–ˆë‹¤ë©´ ì§€ì¸ì—ê²Œ ê³µìœ í•´ë³´ì„¸ìš”!"}){const s=R.useRef(null),r=R.useRef(null),a=R.useRef(null),i=R.useRef(null),d=R.useRef(""),u=()=>{const{origin:E,pathname:x}=window.location;return`${E}${x}#/`},m=()=>{try{e?.()}catch{}},c=E=>{E.target===s.current&&m()},l=()=>{try{window.location.hash="#/"}finally{m()}},p=async()=>{const E=u();if(navigator.share){try{await navigator.share({title:t,text:o,url:E})}catch{}l();return}try{await navigator.clipboard.writeText(E),alert("í™ˆ ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.")}catch{try{const x=document.createElement("textarea");x.value=E,x.setAttribute("readonly",""),x.style.position="fixed",x.style.opacity="0",document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),alert("í™ˆ ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.")}catch{}}finally{l()}};if(R.useEffect(()=>{if(!n)return;try{document.body.classList.remove("scroll-lock")}catch{}d.current=document.body.style.overflow||"",document.body.style.overflow="hidden",i.current=document.activeElement;const E=setTimeout(()=>(a.current||r.current)?.focus(),0),x=M=>{if(M.key==="Escape"&&(M.preventDefault(),m()),M.key==="Tab"){const I=it(r.current);if(!I.length){M.preventDefault(),r.current?.focus();return}const J=I[0],V=I[I.length-1];M.shiftKey&&document.activeElement===J?(M.preventDefault(),V.focus()):!M.shiftKey&&document.activeElement===V&&(M.preventDefault(),J.focus())}};return window.addEventListener("keydown",x),()=>{clearTimeout(E),window.removeEventListener("keydown",x),document.body.style.overflow=d.current||"";try{i.current?.focus?.()}catch{}}},[n]),!n)return null;const b=(()=>{try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}})(),v={position:"fixed",inset:0,zIndex:1e3,background:"color-mix(in oklab, black 38%, transparent)",display:"grid",placeItems:"center",padding:16,backdropFilter:"blur(2px)",animation:b?void 0:"fadeIn .16s ease-out"},w={width:"min(560px, 94vw)",background:"var(--surface, #fff)",color:"var(--ink, #111827)",border:"1px solid var(--border, #e5e7eb)",borderRadius:16,boxShadow:"0 20px 48px rgba(0,0,0,.16)",overflow:"hidden",outline:"none",display:"grid",gridTemplateRows:"auto 1fr auto",transform:b?"none":"translateY(6px)",animation:b?void 0:"popIn .18s ease-out"},_={padding:"16px 18px 12px",borderBottom:"1px solid var(--border, #e5e7eb)",display:"flex",alignItems:"center",gap:12},k={width:36,height:36,flex:"0 0 36px",display:"grid",placeItems:"center",borderRadius:12,color:"#fff",background:"linear-gradient(135deg, var(--accent, #7a5af8), #0fa958)",boxShadow:"0 6px 20px rgba(122,90,248,.25)",fontSize:18,fontWeight:800},O={display:"grid",gap:4},F={margin:0,fontSize:18,fontWeight:800,lineHeight:1.25},C={margin:0,fontSize:13,color:"var(--ink-soft, #6b7280)"},y={padding:18,display:"grid",gap:12},g={padding:12,border:"1px solid var(--border, #e5e7eb)",borderRadius:12,background:"var(--surface, #fff)",fontSize:14,color:"var(--ink, #374151)",lineHeight:1.6},T={display:"flex",alignItems:"center",gap:8,padding:10,borderRadius:10,border:"1px dashed var(--border, #e5e7eb)",background:"color-mix(in oklab, var(--surface, #fff) 92%, #7a5af8 8%)",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',overflow:"hidden"},j={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:13,opacity:.9},N={padding:14,borderTop:"1px solid var(--border, #e5e7eb)",display:"flex",justifyContent:"flex-end",gap:8,background:"var(--surface, #fff)"},q=u(),ce=f.jsxs("div",{ref:s,style:v,onClick:c,"data-testid":"share-backdrop",children:[f.jsxs("div",{ref:r,role:"dialog","aria-modal":"true","aria-labelledby":"share-title","aria-describedby":"share-desc",style:w,tabIndex:-1,onClick:E=>E.stopPropagation(),"data-testid":"share-modal",children:[f.jsxs("div",{style:_,children:[f.jsx("div",{style:k,"aria-hidden":!0,children:"ğŸ”—"}),f.jsxs("div",{style:O,children:[f.jsx("h3",{id:"share-title",style:F,children:"ê³µìœ í•˜ê¸°"}),f.jsx("p",{style:C,children:"ì¹œêµ¬/ê°€ì¡±ì—ê²Œ ìš´ì„¸ë‰´ìŠ¤ë¥¼ ì•Œë ¤ë³´ì„¸ìš”"})]})]}),f.jsxs("div",{style:y,children:[f.jsxs("div",{id:"share-desc",style:g,children:[f.jsx("strong",{style:{fontWeight:800},children:t}),f.jsx("div",{style:{marginTop:6},children:o})]}),f.jsxs("div",{style:T,"aria-label":"ê³µìœ  ë§í¬",children:[f.jsx("span",{style:{opacity:.6},children:"URL"}),f.jsx("span",{style:j,title:q,children:q})]})]}),f.jsxs("div",{style:N,children:[f.jsx(X,{variant:"text",onClick:m,ref:a,"data-testid":"share-cancel",children:"ë‹¤ìŒì—"}),f.jsx(X,{onClick:p,"data-testid":"share-confirm",children:"ê³µìœ í•˜ê¸°"})]})]}),f.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
        @keyframes popIn {
          from { opacity: .001; transform: translateY(10px) scale(.98) }
          to   { opacity: 1;    transform: translateY(0)  scale(1) }
        }
        @media (prefers-reduced-motion: reduce){
          @keyframes fadeIn { from { opacity: 1 } to { opacity: 1 } }
          @keyframes popIn  { from { transform:none } to { transform:none } }
        }
      `})]});return ct.createPortal(ce,document.body)}function it(n){if(!n)return[];const e=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(",");return Array.from(n.querySelectorAll(e)).filter(t=>{const o=window.getComputedStyle(t);return o.display!=="none"&&o.visibility!=="hidden"})}export{ut as P,bt as S,mt as a,Pe as b,ft as c,ht as g,Ke as i,pt as s};
