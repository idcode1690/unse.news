import{j as u,a as ue,r as j}from"./index-Bshimp0p.js";import{F as me,E as he,L as pe,n as F,o as ye,p as U,q as W,B as X}from"./cookieUtils-BARylrYr.js";const be={ê°‘:"ç”²",ì„:"ä¹™",ë³‘:"ä¸™",ì •:"ä¸",ë¬´:"æˆŠ",ê¸°:"å·±",ê²½:"åºš",ì‹ :"è¾›",ì„:"å£¬",ê³„:"ç™¸"},ge={ì:"å­",ì¶•:"ä¸‘",ì¸:"å¯…",ë¬˜:"å¯",ì§„:"è¾°",ì‚¬:"å·³",ì˜¤:"åˆ",ë¯¸:"æœª",ì‹ :"ç”³",ìœ :"é…‰",ìˆ :"æˆŒ",í•´:"äº¥"};function we(e){if(!e)return"";const t=String(e).trim();return/^[ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸]$/.test(t)?t:be[t]||t}function xe(e){if(!e)return"";const t=String(e).trim();return/^[å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥]$/.test(t)?t:ge[t]||t}function Se(e){return e?Array.isArray(e)?e.map(t=>t||{stem:"",branch:""}):[e.year,e.month,e.day,e.hour].map(t=>t||{stem:"",branch:""}):[]}function B(e){return me[e]||""}function Z(e){return he[e]||""}const bt=({pillars:e,idPrefix:t=""})=>{const n=Se(e),o=["ì—°","ì›”","ì¼","ì‹œ"],r=["year","month","day","hour"];return u.jsx("div",{className:"pillars",children:n.map((s,a)=>{const l=we(s?.stem),c=xe(s?.branch),f=B(l)||B(s?.stem),m=B(c)||B(s?.branch),i=r[a],d=t?`${t}-${i}`:void 0;return u.jsxs("div",{className:"pillar","data-type":i,id:d,children:[u.jsx("h3",{children:o[a]}),u.jsxs("div",{className:"pill",children:[u.jsx("span",{className:f,children:l||"â€”"}),u.jsx("span",{children:"Â·"}),u.jsx("span",{className:m,children:c||"â€”"})]}),u.jsx("div",{className:"gx",children:[Z(f),Z(m)].filter(Boolean).join(" Â· ")})]},a)})})};function ee(e,t,n){const o=Math.floor((14-t)/12),r=e+4800-o,s=t+12*o-3;return n+Math.floor((153*s+2)/5)+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)-32045}function gt(e,t,n,o=!1){const r=pe.find(c=>c.lunar.year===e&&c.lunar.month===t&&c.lunar.day===n&&c.lunar.isLeap===o);if(r)return new Date(r.solar.year,r.solar.month-1,r.solar.day);if(e<1900||e>2029){const c=new Date(e,t-1,n);return c.setDate(c.getDate()+30),c}let s=0;for(let c=1900;c<e;c++)s+=ve(c);const a=ae(e);for(let c=1;c<t;c++)s+=te(e,c),c===a&&!o&&(s+=ce(e));o&&t===a&&(s+=te(e,t)),s+=n-1;const l=new Date(1900,0,31);return new Date(l.getTime()+s*864e5)}function ve(e){let t=348;const n=F[e-1900];for(let o=32768;o>8;o>>=1)t+=n&o?1:0;return t+ce(e)}function te(e,t){return F[e-1900]&65536>>t?30:29}function ae(e){return F[e-1900]&15}function ce(e){return ae(e)?F[e-1900]&65536?30:29:0}const R=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],O=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],K={ç”²:"wood",ä¹™:"wood",ä¸™:"fire",ä¸:"fire",æˆŠ:"earth",å·±:"earth",åºš:"metal",è¾›:"metal",å£¬:"water",ç™¸:"water"},z={ç”²:1,ä¸™:1,æˆŠ:1,åºš:1,å£¬:1,ä¹™:0,ä¸:0,å·±:0,è¾›:0,ç™¸:0},Ee={å­:"water",ä¸‘:"earth",å¯…:"wood",å¯:"wood",è¾°:"earth",å·³:"fire",åˆ:"fire",æœª:"earth",ç”³:"metal",é…‰:"metal",æˆŒ:"earth",äº¥:"water"},A=(e,t)=>(e%t+t)%t,Ae={å­:["ç™¸"],ä¸‘:["å·±","ç™¸","è¾›"],å¯…:["ç”²","ä¸™","æˆŠ"],å¯:["ç”²","ä¹™"],è¾°:["æˆŠ","ä¹™","ç™¸"],å·³:["ä¸™","æˆŠ","åºš"],åˆ:["ä¸™","å·±","ä¸"],æœª:["å·±","ä¹™","ä¸"],ç”³:["æˆŠ","å£¬","åºš"],é…‰:["è¾›"],æˆŒ:["æˆŠ","è¾›","ä¸"],äº¥:["æˆŠ","ç”²","å£¬"]},Me={å­:"ç™¸",ä¸‘:"å·±",å¯…:"ç”²",å¯:"ä¹™",è¾°:"æˆŠ",å·³:"ä¸™",åˆ:"ä¸™",æœª:"å·±",ç”³:"åºš",é…‰:"è¾›",æˆŒ:"æˆŠ",äº¥:"å£¬"},_e=["ì¥ìƒ","ëª©ìš•","ê´€ëŒ€","ê±´ë¡","ì œì™•","ì‡ ","ë³‘","ì‚¬","ë¬˜","ì ˆ","íƒœ","ì–‘"],Ne={ç”²:11,ä¹™:6,ä¸™:2,ä¸:9,æˆŠ:2,å·±:9,åºš:5,è¾›:0,å£¬:8,ç™¸:3},De={äº¥:{ç”³:"ê²ì‚´",å¯:"ìœ¡í•´ì‚´",äº¥:"ë§ì‹ ì‚´",åˆ:"ì¬ì‚´"}};function ne(e,t){if(!e||!t)return"";const n=K[e],o=K[t],r=z[e],s=z[t];return o===n?r===s?"ë¹„ê²¬":"ê²ì¬":n==="wood"&&o==="fire"||n==="fire"&&o==="earth"||n==="earth"&&o==="metal"||n==="metal"&&o==="water"||n==="water"&&o==="wood"?r===s?"ì‹ì‹ ":"ìƒê´€":o==="wood"&&n==="fire"||o==="fire"&&n==="earth"||o==="earth"&&n==="metal"||o==="metal"&&n==="water"||o==="water"&&n==="wood"?r===s?"ì •ì¸":"í¸ì¸":n==="wood"&&o==="earth"||n==="fire"&&o==="metal"||n==="earth"&&o==="water"||n==="metal"&&o==="wood"||n==="water"&&o==="fire"?r===s?"í¸ì¬":"ì •ì¬":o==="wood"&&n==="earth"||o==="fire"&&n==="metal"||o==="earth"&&n==="water"||o==="metal"&&n==="wood"||o==="water"&&n==="fire"?r===s?"í¸ê´€":"ì •ê´€":""}function je(e,t){const n=Ne[e];if(n==null)return"";const o=O.indexOf(t);if(o<0)return"";const r=z[e]?1:-1,s=A((o-n)*r,12);return _e[s]||""}function Re(e,t){const n=De[e];return n&&n[t]||""}function He(e,t,n){if(!n||!n.useLocalSolar)return{hour:e,minute:t};const o=typeof n.longitude=="number"?n.longitude:126.9784,r=Math.round((135-o)*4);let s=e*60+t-r;return s=A(s,1440),{hour:Math.floor(s/60),minute:s%60}}function Te(e,t,n){let o=e;(t===1||t===2&&n<4)&&(o=e-1);const s=o-1984;return{stem:R[A(s,10)],branch:O[A(s,12)]}}function ke(e,t,n,o){let r;t===2&&n>=4||t===3&&n<5?r=2:t===3&&n>=5||t===4&&n<4?r=3:t===4&&n>=4||t===5&&n<5?r=4:t===5&&n>=5||t===6&&n<5?r=5:t===6&&n>=5||t===7&&n<7?r=6:t===7&&n>=7||t===8&&n<7?r=7:t===8&&n>=7||t===9&&n<7?r=8:t===9&&n>=7||t===10&&n<8?r=9:t===10&&n>=8||t===11&&n<7?r=10:t===11&&n>=7||t===12&&n<7?r=11:t===12&&n>=7||t===1&&n<5?r=0:r=1;const s=R.indexOf(o);let a;s===0||s===5?a=2:s===1||s===6?a=4:s===2||s===7?a=6:s===3||s===8?a=8:a=0;const l=A(a+A(r-2,12),10);return{stem:R[l],branch:O[r]}}function Oe(e,t,n,o=0,r=0){let s=ee(e,t,n);o*60+r>=1410&&(s+=1);const a=ee(1912,2,18),l=s-a;return{stem:R[A(l,10)],branch:O[A(l,12)]}}function $e(e,t=0,n=0){const o=t*60+n,r=A(o-1410,1440),s=Math.floor(r/120),a=O[A(s,12)],l=R.indexOf(e);let c;return l===0||l===5?c=0:l===1||l===6?c=2:l===2||l===7?c=4:l===3||l===8?c=6:c=8,{stem:R[A(c+s,10)],branch:a}}function Ce(e,t,n){const o=[[1,5,"ì†Œí•œ"],[1,20,"ëŒ€í•œ"],[2,4,"ì…ì¶˜"],[2,19,"ìš°ìˆ˜"],[3,6,"ê²½ì¹©"],[3,21,"ì¶˜ë¶„"],[4,5,"ì²­ëª…"],[4,20,"ê³¡ìš°"],[5,6,"ì…í•˜"],[5,21,"ì†Œë§Œ"],[6,6,"ë§ì¢…"],[6,21,"í•˜ì§€"],[7,7,"ì†Œì„œ"],[7,23,"ëŒ€ì„œ"],[8,7,"ì…ì¶”"],[8,23,"ì²˜ì„œ"],[9,7,"ë°±ë¡œ"],[9,23,"ì¶”ë¶„"],[10,8,"í•œë¡œ"],[10,23,"ìƒê°•"],[11,7,"ì…ë™"],[11,22,"ì†Œì„¤"],[12,7,"ëŒ€ì„¤"],[12,22,"ë™ì§€"]],r=new Date(e,t-1,n);let s=o[0][2];for(const[a,l,c]of o){const f=new Date(e,a-1,l);r>=f&&(s=c)}return{name:s}}function wt(e,t,n,o=0,r=0,s={}){const{hour:a,minute:l}=He(o,r,s),c=Te(e,t,n),f=ke(e,t,n,c.stem),m=Oe(e,t,n,a,l),i=$e(m.stem,a,l),d=Ce(e,t,n),p=y=>{const v=Ae[y.branch]||[],w=Me[y.branch]||v[0];return{...y,tenGodStem:ne(m.stem,y.stem),tenGodBranch:w?ne(m.stem,w):"",hiddenStems:v,lifeStage:je(m.stem,y.branch),shinsal:Re(m.branch,y.branch)||"",elemStem:K[y.stem],elemBranch:Ee[y.branch]}};return{year:p(c),month:p(f),day:p(m),hour:p(i),season:d}}const Ie={ç”²:"ëª©",ä¹™:"ëª©",ä¸™:"í™”",ä¸:"í™”",æˆŠ:"í† ",å·±:"í† ",åºš:"ê¸ˆ",è¾›:"ê¸ˆ",å£¬:"ìˆ˜",ç™¸:"ìˆ˜"},Be={å­:"ìˆ˜",ä¸‘:"í† ",å¯…:"ëª©",å¯:"ëª©",è¾°:"í† ",å·³:"í™”",åˆ:"í™”",æœª:"í† ",ç”³:"ê¸ˆ",é…‰:"ê¸ˆ",æˆŒ:"í† ",äº¥:"ìˆ˜"},Fe={å­:[{stem:"å£¬",w:1}],ä¸‘:[{stem:"å·±",w:.5},{stem:"ç™¸",w:.3},{stem:"è¾›",w:.2}],å¯…:[{stem:"ç”²",w:.6},{stem:"ä¸™",w:.3},{stem:"æˆŠ",w:.1}],å¯:[{stem:"ä¹™",w:1}],è¾°:[{stem:"æˆŠ",w:.5},{stem:"ä¹™",w:.3},{stem:"ç™¸",w:.2}],å·³:[{stem:"ä¸™",w:.6},{stem:"åºš",w:.3},{stem:"æˆŠ",w:.1}],åˆ:[{stem:"ä¸",w:.7},{stem:"å·±",w:.3}],æœª:[{stem:"å·±",w:.5},{stem:"ä¸",w:.3},{stem:"ä¹™",w:.2}],ç”³:[{stem:"åºš",w:.7},{stem:"å£¬",w:.2},{stem:"æˆŠ",w:.1}],é…‰:[{stem:"è¾›",w:1}],æˆŒ:[{stem:"æˆŠ",w:.6},{stem:"è¾›",w:.3},{stem:"ä¸",w:.1}],äº¥:[{stem:"å£¬",w:.7},{stem:"ç”²",w:.3}]},Le=[["å­","åˆ"],["ä¸‘","æœª"],["å¯…","ç”³"],["å¯","é…‰"],["è¾°","æˆŒ"],["å·³","äº¥"]],oe=[["å­","æœª"],["ä¸‘","åˆ"],["å¯…","å·³"],["å¯","è¾°"],["ç”³","äº¥"],["é…‰","æˆŒ"]],Ye=[["å­","å¯"],["ä¸‘","æˆŒ"],["å¯…","äº¥"],["å¯","å­"],["è¾°","ä¸‘"],["å·³","ç”³"],["åˆ","é…‰"],["æœª","è¾°"],["ç”³","å·³"],["é…‰","åˆ"],["æˆŒ","æœª"],["äº¥","å¯…"]],Pe=[["å¯…","å·³","ç”³"],["ä¸‘","æˆŒ","æœª"]],Ge=["è¾°","åˆ","é…‰","å­"],Ke=[{set:["äº¥","å¯","æœª"],element:"ëª©"},{set:["å¯…","åˆ","æˆŒ"],element:"í™”"},{set:["å·³","é…‰","ä¸‘"],element:"ê¸ˆ"},{set:["ç”³","å­","è¾°"],element:"ìˆ˜"}],ze=[{set:["äº¥","å­","ä¸‘"],element:"ìˆ˜"},{set:["å¯…","å¯","è¾°"],element:"ëª©"},{set:["å·³","åˆ","æœª"],element:"í™”"},{set:["ç”³","é…‰","æˆŒ"],element:"ê¸ˆ"}],h=["ëª©","í™”","í† ","ê¸ˆ","ìˆ˜"],ie=(e,t)=>h[(h.indexOf(e)+1)%5]===t,Ue=(e,t)=>ie(t,e),le=(e,t)=>h[(h.indexOf(e)+2)%5]===t,We=(e,t)=>le(t,e),q=e=>(e??"").toString().trim(),H=e=>Ie[q(e)]||null,de=e=>Be[q(e)]||null,qe=e=>Array.from(new Set(e));function Je(e,t={includeHidden:!0}){const n={ëª©:0,í™”:0,í† :0,ê¸ˆ:0,ìˆ˜:0},o=(s,a=1)=>{n[s]!=null&&(n[s]+=a)},r=[e?.year,e?.month,e?.day,e?.hour].filter(Boolean);return r.forEach(s=>{const a=H(s.stem);a&&o(a,1)}),r.forEach(s=>{const a=de(s.branch);a&&o(a,.8)}),t.includeHidden&&r.forEach(s=>{(Fe[q(s.branch)]||[]).forEach(({stem:l,w:c})=>{const f=H(l);f&&o(f,c*.5)})}),n}function Ve(e){const t=H(e?.day?.stem);if(!t)return{score:0,level:"ë¶ˆëª…",rationale:"ì¼ê°„ ë¯¸í™•ì¸"};const n=Je(e,{includeHidden:!0}),o=n[t]||0,r=h[(h.indexOf(t)+4)%5],s=h[(h.indexOf(t)+1)%5],a=h[(h.indexOf(t)+2)%5],l=h[(h.indexOf(t)+3)%5],c=n[r]||0,f=n[s]||0,m=n[a]||0,i=n[l]||0,d=e?.month?.branch,p=["å¯…","å¯","è¾°"].includes(d)?"ë´„":["å·³","åˆ","æœª"].includes(d)?"ì—¬ë¦„":["ç”³","é…‰","æˆŒ"].includes(d)?"ê°€ì„":"ê²¨ìš¸",v={ë´„:"ëª©",ì—¬ë¦„:"í™”",ê°€ì„:"ê¸ˆ",ê²¨ìš¸:"ìˆ˜"}[p]===t?.4:0,w=o*1+c*.7+f*.2+v-m*.6-i*.3;let _="ì¤‘ê°„";w>=2.8?_="ì‹ ê°•":w<=1.8&&(_="ì‹ ì•½");const T=`ì¼ê°„(${t}) ë™ë¥˜=${o.toFixed(1)}, ì¸ì„±=${c.toFixed(1)}, ì‹ìƒ=${f.toFixed(1)}, ê´€ì‚´=${m.toFixed(1)}, ì¬ì„±=${i.toFixed(1)}, ê³„ì ˆë³´ì •=${v.toFixed(1)} â†’ ì ìˆ˜=${w.toFixed(2)}`;return{score:w,level:_,rationale:T,counts:n,monthGroup:p}}function Qe(e){const t=qe([e?.year?.branch,e?.month?.branch,e?.day?.branch,e?.hour?.branch].filter(Boolean)),n=(i,d)=>t.includes(i)&&t.includes(d),o=i=>i.every(d=>t.includes(d)),r=Ke.filter(i=>o(i.set)).map(i=>({type:"ì‚¼í•©",set:i.set,element:i.element})),s=ze.filter(i=>o(i.set)).map(i=>({type:"ë°©í•©",set:i.set,element:i.element})),a=Le.filter(([i,d])=>n(i,d)).map(([i,d])=>({type:"ì¶©",pair:[i,d]})),l=oe.filter(([i,d])=>n(i,d)).map(([i,d])=>({type:"í•´",pair:[i,d]})),c=Ye.filter(([i,d])=>n(i,d)).map(([i,d])=>({type:"íŒŒ",pair:[i,d]})),f=[];Pe.forEach(i=>{o(i)&&f.push({type:"í˜•(ì‚¼í˜•)",set:i})}),Ge.forEach(i=>{t.filter(p=>p===i).length>=2&&f.push({type:"í˜•(ìí˜•)",pair:[i,i]})});const m=oe.filter(([i,d])=>n(i,d)).map(([i,d])=>({type:"ì›ì§„",pair:[i,d]}));return{samhap:r,banghap:s,chong:a,hae:l,pa:c,hyeong:f,wonjin:m}}function Xe(e){const t=H(e?.day?.stem),n=de(e?.month?.branch);if(!t||!n)return{type:"ë¶ˆëª…",basis:"ì¼ê°„/ì›”ì§€ í™•ì¸ ë¶ˆê°€"};let o="ì¡ê²©";return n===t?o="ë¹„ê²¬ê²©":Ue(t,n)?o="ì¸ìˆ˜ê²©":ie(t,n)?o="ì‹ìƒê²©":We(t,n)?o="ê´€ì‚´ê²©":le(t,n)&&(o="ì¬ê²©"),{type:o,basis:`ì›”ì§€(${e?.month?.branch}:${n}) vs ì¼ê°„(${t}) ê´€ê³„`}}function Ze(e,t){const n=H(e?.day?.stem);if(!n)return{flow:[],temperature:[],notes:[]};const o=e?.month?.branch,r=["å¯…","å¯","è¾°"].includes(o)?"ë´„":["å·³","åˆ","æœª"].includes(o)?"ì—¬ë¦„":["ç”³","é…‰","æˆŒ"].includes(o)?"ê°€ì„":"ê²¨ìš¸",s=h[(h.indexOf(n)+4)%5],a=h[(h.indexOf(n)+2)%5],l=h[(h.indexOf(n)+3)%5],c=t?.level==="ì‹ ì•½"?[n,s]:t?.level==="ì‹ ê°•"?[a,l]:[n,a],f=r==="ê²¨ìš¸"?["í™”"]:r==="ì—¬ë¦„"?["ìˆ˜"]:r==="ë´„"?["ê¸ˆ","ìˆ˜"]:["ëª©","ìˆ˜"],m=[`ê³„ì ˆ=${r}, ì¼ê°„=${n}, ì‹ ê°•ë„=${t?.level||"ë¶ˆëª…"}`,`ìˆœí™˜ìš©ì‹ (íœ´ë¦¬ìŠ¤í‹±)=${c.join(", ")}`,`ì¡°í›„ìš©ì‹ (ê·¼ì‚¬)=${f.join(", ")}`];return{flow:c,temperature:f,notes:m}}const et=new Set(["ç”²","ä¸™","æˆŠ","åºš","å£¬"]);function tt(e){return et.has(e)}function nt(e,t){const n=W.indexOf(e),o=U.indexOf(t);if(n<0||o<0)return-1;for(let r=0;r<60;r++)if(r%10===n&&r%12===o)return r;return-1}function ot(e){const t=e%60%10,n=e%60%12;return{stem:W[t],branch:U[n]}}const rt=["ì†Œí•œ","ì…ì¶˜","ê²½ì¹©","ì²­ëª…","ì…í•˜","ë§ì¢…","ì†Œì„œ","ì…ì¶”","ë°±ë¡œ","í•œë¡œ","ì…ë™","ëŒ€ì„¤"];function Y(e){const t={};ye.forEach(o=>{t[o.name]={month:o.month,day:o.approxDay}});const n=[];for(const o of rt){const r=t[o];r&&n.push({name:o,date:new Date(e,r.month-1,r.day,0,0,0)})}return n}function st(e,t){return(t-e)/(1e3*60*60*24)}function at(e,t){if(!e?.month||!e?.year)return{direction:"ë¶ˆëª…",start:{years:0,months:0,days:0},list:[]};const n=new Date(t.y,(t.m||1)-1,t.d,t.hh||0,t.mm||0,0),o=t.gender!=="female",r=t.yearStem||e.year.stem,s=tt(r),a=o&&s||!o&&!s,l=a?"ìˆœí–‰":"ì—­í–‰",c=a?1:-1,f=n.getFullYear(),m=Y(f),i=Y(f+1),d=Y(f-1);let p=null;if(a)p=[...m,...i].map(g=>g.date).find(g=>g.getTime()>n.getTime())||i[0]?.date;else{const b=[...d,...m].map(g=>g.date).filter(g=>g.getTime()<n.getTime());p=b[b.length-1]||d[d.length-1]?.date}p||(p=new Date(f,n.getMonth(),n.getDate()+5));const y=Math.max(0,Math.round(st(n,p))),v=y*4,w=Math.floor(v/12),_=v%12,T=nt(e.month.stem,e.month.branch),$=[],L=8;for(let b=1;b<=L;b++){const g=(T+c*b+60)%60,k=ot(g),D=w+(b-1)*10,N=D+9;$.push({order:b,pillar:k,ageStart:D,ageEnd:N})}let C=null;try{const b=new Date(n.getTime()),g=b.getFullYear(),k=b.getMonth(),D=b.getDate(),N=new Date(g,k+v,D);C=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-${String(N.getDate()).padStart(2,"0")}`}catch{}return{direction:l,start:{years:w,months:_,days:y},startDate:C,list:$}}const ct=["ê°‘","ì„","ë³‘","ì •","ë¬´","ê¸°","ê²½","ì‹ ","ì„","ê³„"],it=["ì","ì¶•","ì¸","ë¬˜","ì§„","ì‚¬","ì˜¤","ë¯¸","ì‹ ","ìœ ","ìˆ ","í•´"];function P(e){let t=(e-1984)%60;return t<0&&(t+=60),t}function re(e){return{stem:ct[e%10],branch:it[e%12]}}function se(e){const t=e%60%10,n=e%60%12;return{stem:W[t],branch:U[n]}}function lt(e=new Date().getFullYear(),t=10){const n=[];for(let o=0;o<t;o++){const r=e+o,s=P(r);n.push({year:r,pillarKor:re(s),pillarHan:se(s)})}return{currentYear:e,currentKor:re(P(e)),currentHan:se(P(e)),list:n}}function xt(e,t={}){const n=Ve(e),o=Qe(e),r=Xe(e),s=Ze(e,n);let a=null;t.birth&&t.birth.y&&(a=at(e,t.birth));const l=new Date().getFullYear(),c=lt(l,10);return{counts:n.counts,strength:{score:Number(n.score?.toFixed?.(2)??n.score),level:n.level,rationale:n.rationale,monthGroup:n.monthGroup},relations:o,geoguk:r,yongshin:s,daewoon:a,sewoon:c}}function St(e){return H(e)}const dt={},G="ìš´ì„¸ë‰´ìŠ¤",ft=dt?.VITE_SITE_URL&&String(void 0)||(typeof window<"u"?window.location.origin:"https://idcode1690.github.io/unse");function S(e,t){const n=Object.entries(t).map(([r,s])=>`[${r}="${s}"]`).join("");let o=document.head.querySelector(`${e}${n}`);return o||(o=document.createElement(e),Object.entries(t).forEach(([r,s])=>o.setAttribute(r,s)),document.head.appendChild(o)),o}function ut(e){return!e||!e.trim()?G:e.includes(G)?e:`${e} | ${G}`}function vt({title:e,description:t,path:n="/",image:o="/og-image.png",noIndex:r=!1}){const s=`${ft}${n.startsWith("#")||n.startsWith("/")?n:`/${n}`}`,a=ut(e);document.title=a,t&&S("meta",{name:"description"}).setAttribute("content",t),S("meta",{name:"robots"}).setAttribute("content",r?"noindex,nofollow":"index,follow"),S("link",{rel:"canonical"}).setAttribute("href",s),S("meta",{property:"og:title"}).setAttribute("content",a),S("meta",{property:"og:description"}).setAttribute("content",t||""),S("meta",{property:"og:type"}).setAttribute("content","website"),S("meta",{property:"og:url"}).setAttribute("content",s),S("meta",{property:"og:image"}).setAttribute("content",o),S("meta",{name:"twitter:card"}).setAttribute("content","summary_large_image"),S("meta",{name:"twitter:title"}).setAttribute("content",a),S("meta",{name:"twitter:description"}).setAttribute("content",t||""),S("meta",{name:"twitter:image"}).setAttribute("content",o)}var mt=ue();function Et({isOpen:e,onClose:t,pageTitle:n="ìš´ì„¸ë‰´ìŠ¤",shareText:o="ìœ ìš©í–ˆë‹¤ë©´ ì§€ì¸ì—ê²Œ ê³µìœ í•´ë³´ì„¸ìš”!"}){const r=j.useRef(null),s=j.useRef(null),a=j.useRef(null),l=j.useRef(null),c=j.useRef(""),f=()=>{const{origin:E,pathname:x}=window.location;return`${E}${x}#/`},m=()=>{try{t?.()}catch{}},i=E=>{E.target===r.current&&m()},d=()=>{try{window.location.hash="#/"}finally{m()}},p=async()=>{const E=f();if(navigator.share){try{await navigator.share({title:n,text:o,url:E})}catch{}d();return}try{await navigator.clipboard.writeText(E),alert("í™ˆ ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.")}catch{try{const x=document.createElement("textarea");x.value=E,x.setAttribute("readonly",""),x.style.position="fixed",x.style.opacity="0",document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),alert("í™ˆ ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.")}catch{}}finally{d()}};if(j.useEffect(()=>{if(!e)return;try{document.body.classList.remove("scroll-lock")}catch{}c.current=document.body.style.overflow||"",document.body.style.overflow="hidden",l.current=document.activeElement;const E=setTimeout(()=>(a.current||s.current)?.focus(),0),x=M=>{if(M.key==="Escape"&&(M.preventDefault(),m()),M.key==="Tab"){const I=ht(s.current);if(!I.length){M.preventDefault(),s.current?.focus();return}const V=I[0],Q=I[I.length-1];M.shiftKey&&document.activeElement===V?(M.preventDefault(),Q.focus()):!M.shiftKey&&document.activeElement===Q&&(M.preventDefault(),V.focus())}};return window.addEventListener("keydown",x),()=>{clearTimeout(E),window.removeEventListener("keydown",x),document.body.style.overflow=c.current||"";try{l.current?.focus?.()}catch{}}},[e]),!e)return null;const y=(()=>{try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}})(),v={position:"fixed",inset:0,zIndex:1e3,background:"color-mix(in oklab, black 38%, transparent)",display:"grid",placeItems:"center",padding:16,backdropFilter:"blur(2px)",animation:y?void 0:"fadeIn .16s ease-out"},w={width:"min(560px, 94vw)",background:"var(--surface, #fff)",color:"var(--ink, #111827)",border:"1px solid var(--border, #e5e7eb)",borderRadius:16,boxShadow:"0 20px 48px rgba(0,0,0,.16)",overflow:"hidden",outline:"none",display:"grid",gridTemplateRows:"auto 1fr auto",transform:y?"none":"translateY(6px)",animation:y?void 0:"popIn .18s ease-out"},_={padding:"16px 18px 12px",borderBottom:"1px solid var(--border, #e5e7eb)",display:"flex",alignItems:"center",gap:12},T={width:36,height:36,flex:"0 0 36px",display:"grid",placeItems:"center",borderRadius:12,color:"#fff",background:"linear-gradient(135deg, var(--accent, #7a5af8), #0fa958)",boxShadow:"0 6px 20px rgba(122,90,248,.25)",fontSize:18,fontWeight:800},$={display:"grid",gap:4},L={margin:0,fontSize:18,fontWeight:800,lineHeight:1.25},C={margin:0,fontSize:13,color:"var(--ink-soft, #6b7280)"},b={padding:18,display:"grid",gap:12},g={padding:12,border:"1px solid var(--border, #e5e7eb)",borderRadius:12,background:"var(--surface, #fff)",fontSize:14,color:"var(--ink, #374151)",lineHeight:1.6},k={display:"flex",alignItems:"center",gap:8,padding:10,borderRadius:10,border:"1px dashed var(--border, #e5e7eb)",background:"color-mix(in oklab, var(--surface, #fff) 92%, #7a5af8 8%)",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',overflow:"hidden"},D={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:13,opacity:.9},N={padding:14,borderTop:"1px solid var(--border, #e5e7eb)",display:"flex",justifyContent:"flex-end",gap:8,background:"var(--surface, #fff)"},J=f(),fe=u.jsxs("div",{ref:r,style:v,onClick:i,"data-testid":"share-backdrop",children:[u.jsxs("div",{ref:s,role:"dialog","aria-modal":"true","aria-labelledby":"share-title","aria-describedby":"share-desc",style:w,tabIndex:-1,onClick:E=>E.stopPropagation(),"data-testid":"share-modal",children:[u.jsxs("div",{style:_,children:[u.jsx("div",{style:T,"aria-hidden":!0,children:"ğŸ”—"}),u.jsxs("div",{style:$,children:[u.jsx("h3",{id:"share-title",style:L,children:"ê³µìœ í•˜ê¸°"}),u.jsx("p",{style:C,children:"ì¹œêµ¬/ê°€ì¡±ì—ê²Œ ìš´ì„¸ë‰´ìŠ¤ë¥¼ ì•Œë ¤ë³´ì„¸ìš”"})]})]}),u.jsxs("div",{style:b,children:[u.jsxs("div",{id:"share-desc",style:g,children:[u.jsx("strong",{style:{fontWeight:800},children:n}),u.jsx("div",{style:{marginTop:6},children:o})]}),u.jsxs("div",{style:k,"aria-label":"ê³µìœ  ë§í¬",children:[u.jsx("span",{style:{opacity:.6},children:"URL"}),u.jsx("span",{style:D,title:J,children:J})]})]}),u.jsxs("div",{style:N,children:[u.jsx(X,{variant:"text",onClick:m,ref:a,"data-testid":"share-cancel",children:"ë‹¤ìŒì—"}),u.jsx(X,{onClick:p,"data-testid":"share-confirm",children:"ê³µìœ í•˜ê¸°"})]})]}),u.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
        @keyframes popIn {
          from { opacity: .001; transform: translateY(10px) scale(.98) }
          to   { opacity: 1;    transform: translateY(0)  scale(1) }
        }
        @media (prefers-reduced-motion: reduce){
          @keyframes fadeIn { from { opacity: 1 } to { opacity: 1 } }
          @keyframes popIn  { from { transform:none } to { transform:none } }
        }
      `})]});return mt.createPortal(fe,document.body)}function ht(e){if(!e)return[];const t=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(",");return Array.from(e.querySelectorAll(t)).filter(n=>{const o=window.getComputedStyle(n);return o.display!=="none"&&o.visibility!=="hidden"})}export{bt as P,Et as S,xt as a,Je as b,wt as c,St as g,Ve as i,gt as l,vt as s};
