import{r,j as t,I as de}from"./index-CNdVkFF5.js";import{l as xe,c as fe,a as ae,P as be,s as Se}from"./sajuExtras-LbL1oaer.js";import{c as we,F as $e,A as Re}from"./openaiService-CEHq7sOl.js";import{e as De,f as ie,l as Ne,a as ve,b as ke,g as Te,h as Ce,i as Me,j as Le}from"./cookieUtils-fixozt5I.js";import{S as Ae}from"./ShareModal-DxElo6DM.js";function A(a){return String(a).padStart(2,"0")}function K(a){if(a===""||a===null||a===void 0)return null;const c=Number(a);return Number.isFinite(c)&&c>=0&&c<=23?c:null}function Fe({year:a,month:c,day:R,hour:p}){const f=a?String(a):"YYYY",N=c?A(c):"MM",D=R?A(R):"DD",T=K(p);return T===null?`${f}.${N}.${D} ëª¨ë¦„`:`${f}.${N}.${D} ${A(T)}ì‹œ`}function Ie(){const a=Date.now(),c=new Date(a+9*3600*1e3),R=c.getUTCFullYear(),p=A(c.getUTCMonth()+1),f=A(c.getUTCDate());return`${R}.${p}.${f}`}const Ee=()=>{const[a,c]=r.useState(null),[R,p]=r.useState(null),[f,N]=r.useState(""),[D,T]=r.useState(!1),[v,F]=r.useState(""),[I,U]=r.useState(null),C=r.useMemo(()=>Ie(),[]),W=r.useMemo(()=>{try{if(new URLSearchParams(window.location.search).get("debug")==="1"||localStorage.getItem("SAJU_DEBUG")==="1")return!0}catch{}return!1},[]),u=r.useCallback((e,n=void 0)=>{const j=Number(e);return Number.isFinite(j)?j:n},[]),_=r.useCallback(e=>{var S,w,$,E,k;if((S=e==null?void 0:e.sajuResult)!=null&&S.year&&((w=e==null?void 0:e.sajuResult)!=null&&w.month)&&(($=e==null?void 0:e.sajuResult)!=null&&$.day)&&((E=e==null?void 0:e.sajuResult)!=null&&E.hour))return e;const n=e.calendar||"solar",j=u(e.year),d=u(e.month),x=u(e.day),g=e.hour!==void 0?e.hour:"",y=e.minute!==void 0?e.minute:"",s=(k=K(g))!=null?k:12,b=u(y,0),l=e.leapMonth==="leap"||e.isLeap===!0;let m,i,o;if(typeof e.solarDate=="string"){const h=String(e.solarDate).match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);h&&(m=u(h[1]),i=u(h[2]),o=u(h[3]))}if(!m||!i||!o)if(n==="lunar"){const h=xe(j,d,x,l),O=h instanceof Date?h:new Date(h);m=O.getFullYear(),i=O.getMonth()+1,o=O.getDate()}else m=j,i=d,o=x;const M=fe(m,i,o,s,b);return{...e,calendar:n,solarDate:`${m}-${String(i).padStart(2,"0")}-${String(o).padStart(2,"0")}`,sajuResult:M,year:j,month:d,day:x,hour:g,minute:y}},[u]),Y=r.useCallback((e,n)=>{const{calendar:j,year:d,month:x,day:g,hour:y,minute:s,gender:b,leapMonth:l,solarDate:m,mbti:i}=e||{},o=((n==null?void 0:n.mbti)||i||"").toUpperCase();return["SAJU",j,`${d}-${x}-${g}`,`${y!=null?y:""}:${s!=null?s:""}`,b,l,m||"",o].join("|")},[]),ce=r.useCallback(async(e,n,j)=>{var d,x,g,y,s,b,l,m,i,o,M,S,w,$,E,k,h,O,ee,te,se,ne,re;N(""),T(!0),F("");try{let L=0,z=0,H=0;if(typeof e.solarDate=="string"){const P=e.solarDate.match(/^(\d{4})-(\d{2})-(\d{2})$/);P&&(L=Number(P[1]),z=Number(P[2]),H=Number(P[3]))}else L=u(e.year),z=u(e.month),H=u(e.day);const oe=K(e.hour),G=(d=K(e.hour))!=null?d:12,he={y:L,m:z,d:H,hh:G,mm:(x=u(e.minute,0))!=null?x:0,gender:e.gender||"unknown",yearStem:(y=(g=e.sajuResult)==null?void 0:g.year)==null?void 0:y.stem},B=j||ae(e.sajuResult,{birth:he}),je=`- ì…ë ¥ ìº˜ë¦°ë”=${e.calendar||"N/A"} ìƒë…„ì›”ì¼=${e.year||"YYYY"}.${e.month||"MM"}.${e.day||"DD"} ${oe===null?"ëª¨ë¦„":A(oe)}:${A((s=u(e.minute,0))!=null?s:0)} ì„±ë³„=${e.gender||"N/A"} (ì–‘ë ¥=${e.solarDate||"N/A"}, ìœ¤ë‹¬=${e.leapMonth||(e.isLeap?"leap":"normal")})
- 4ì£¼: ë…„(${((l=(b=e.sajuResult)==null?void 0:b.year)==null?void 0:l.stem)||""}${((i=(m=e.sajuResult)==null?void 0:m.year)==null?void 0:i.branch)||""}) ì›”(${((M=(o=e.sajuResult)==null?void 0:o.month)==null?void 0:M.stem)||""}${((w=(S=e.sajuResult)==null?void 0:S.month)==null?void 0:w.branch)||""}) ì¼(${((E=($=e.sajuResult)==null?void 0:$.day)==null?void 0:E.stem)||""}${((h=(k=e.sajuResult)==null?void 0:k.day)==null?void 0:h.branch)||""}) ì‹œ(${((ee=(O=e.sajuResult)==null?void 0:O.hour)==null?void 0:ee.stem)||""}${((se=(te=e.sajuResult)==null?void 0:te.hour)==null?void 0:se.branch)||""})
- ì¡°íšŒì¼(KST): ${C}
- MBTI: ${((n==null?void 0:n.mbti)||e.mbti||"ë¯¸ì…ë ¥").toUpperCase()}`,ge=["ë‹¹ì‹ ì€ ëª…ë¦¬Â·ì‚¬ì£¼ í’€ì´ ë¬´ë‹¹ì…ë‹ˆë‹¤. í‰ìƒìš´ì„ í’€ì´í•˜ê³  ë‹¤ìŒ ê·œì¹™ì„ ë°˜ë“œì‹œ ì§€í‚µë‹ˆë‹¤.","ëª¨ë¥´ê±°ë‚˜ ë¶€ì •í™•í•œ í’€ì´ëŠ” í—ˆìœ„ë¡œ ì‘ì„±í•˜ì§€ ë§ê³  ì™„ì „íˆ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”","ì´ ì‚¬ëŒì˜ ì‚¬ì£¼í’€ì´ì— ëŒ€í•´ì„œë§Œ ì´ì•¼ê¸°í•˜ê³  ë‹¹ì‚¬ìì—ê²Œ ë§í•˜ëŠ” ë§íˆ¬ë¡œ ì‘ì„±í•´ì¤˜.","í•œê¸€ë¡œ ì‘ì„±í•´ì•¼ëœë‹¤.","ì‚¬ì£¼ê¸°ë‘¥ìœ¼ë¡œ ìœ¤ì¹œ,ì‹ ì‚´,ìš©ì‹ ì„ ëª¨ë‘ í•´ì„í•  ê²ƒ","ì†Œì œëª©ì€ í•­ìƒ h3(###) í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ê³ , ì¶”ê°€ ì†Œì œëª©/ì„œë¡ /ê²°ë¡ /ìš”ì•½ ê¸ˆì§€","í‰ìƒìš´ ì´í‰, ê³¼ê±°ìš´ í’€ì´, ë¯¸ë˜ìš´ í’€ì´, ìì‹ìš´ í’€ì´(ìì‹ì´ ì–¸ì œì¯¤ ìƒê¸¸ì§€ ì´ì•¼ê¸°í•´ì¤˜), ì§ì¥ìš´ í’€ì´, ì‚¬ì—…ìš´ í’€ì´, ê±´ê°•ìš´ í’€ì´, ì¬ë¬¼ìš´ í’€ì´, ì‚¼ì¬ìš´ í’€ì´, ì—°ì• ìš´ í’€ì´, ë°”ëŒë¼ í’€ì´, ì„±ìš• í’€ì´(ë³€íƒœ ì„±ìš•ì´ ìˆëŠ”ì§€ í’€ì´í•´ì¤˜)ë¡œ ì†Œì œëª©ì„ ì‘ì„±í•´ì¤˜.","ê° í•­ëª©ë³„ 500ì ì •ë„ ì‘ì„±í• ê²ƒ","ì£¼ì–´ì§„ ë°ì´í„°ì— ë”°ë¥¸ í’€ì´ë§Œ ì´ì•¼ê¸°í•˜ê³  ëª…ë¦¬ìš©ì–´ ë° ì „ë¬¸ìš©ì–´ì„¤ëª… ê¸ˆì§€, ì¡°ì–¸ê¸ˆì§€ JSONì— ì—†ëŠ” ì¶”ì •/ê°€ì • ê¸ˆì§€.","todayKSTëŠ” ì¡°íšŒì¼Â·ë‚˜ì´ í‘œí˜„ ì°¸ê³ ìš©ì¼ ë¿, ì˜¤ëŠ˜ì˜ ì¼ì§„/ì‹œì£¼ëŠ” ìƒˆë¡œ ì„¸ìš°ì§€ ì•ŠìŠµë‹ˆë‹¤.","**ì¼ë°˜ì ì´ì§€ ì•Šì€ ë‚´ìš©ì„ ìœ„ì£¼ë¡œ ì‘ì„±í•˜ê³  í•­ëª©ë§ˆë‹¤ 500ì ë‚´ì™¸ë¡œ ìì„¸íˆ ì„œìˆ í•˜ì„¸ìš”","í•´ê²°ë°©ë²•ì„ ì œì‹œí•˜ì§€ë§ê²ƒ, ì¡°ì–¸í•˜ì§€ë§ê²ƒ, ì†Œì„¤ì“°ì§€ë§ê²ƒ, ì¶©ê³ í•˜ì§€ë§ê²ƒ ì‚¬ì£¼í’€ì´ë§Œ ì´ì•¼ê¸°í• ê²ƒ"].join(" "),ye=["ë¶„ì„ìš© JSON:","```json",JSON.stringify({birth:{calendar:e.calendar,y:e.year,m:e.month,d:e.day,hh:G,mm:(ne=u(e.minute,0))!=null?ne:0,gender:e.gender||"unknown",solarDate:e.solarDate,leapMonth:e.leapMonth||(e.isLeap?"leap":"normal")},pillars:e.sajuResult,meta:B,todayKST:C,mbti:((n==null?void 0:n.mbti)||e.mbti||"").toUpperCase()},null,2),"```","","â€» ì¶”ê°€ ì†Œì œëª©/ì„œë¡ /ê²°ë¡ /ìš”ì•½ ê¸ˆì§€. ê° í•­ëª©ì€ í•œ ë‹¨ë½ìœ¼ë¡œë§Œ ì‘ì„±."].join(`
`),pe=[{role:"system",content:ge},{role:"user",content:je+`

`+ye}];U({birth:{calendar:e.calendar,y:e.year,m:e.month,d:e.day,hh:G,mm:(re=u(e.minute,0))!=null?re:0,gender:e.gender||"unknown",solarDate:e.solarDate,leapMonth:e.leapMonth||(e.isLeap?"leap":"normal")},pillars:e.sajuResult,meta:B,todayKST:C,mbti:((n==null?void 0:n.mbti)||e.mbti||"").toUpperCase()});const q=Y(e,n),le=await we({messages:pe,cacheKey:q});N(le||""),De(le||"",{signature:q}),ie(B,{signature:q}),p(B)}catch(L){F(`AI í’€ì´ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.
${L!=null&&L.message?`ì˜¤ë¥˜: ${L.message}`:""}`)}finally{T(!1)}},[Y,u,C]),Q=r.useRef(!1);r.useEffect(()=>{var j,d,x,g,y;if(Q.current)return;Q.current=!0;const e=Ne()||null,n=ve();if(!n){F("ì…ë ¥ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.");return}try{const s=_(n);c(s),ke(s);const b=Y(s,e),l=Te(),m=!!(l!=null&&l.meta&&(l==null?void 0:l.metaSignature)===b);let i=null;if(m)p(l.meta),i=l.meta;else{let S=0,w=0,$=0;if(typeof s.solarDate=="string"){const h=s.solarDate.match(/^(\d{4})-(\d{2})-(\d{2})$/);h&&(S=Number(h[1]),w=Number(h[2]),$=Number(h[3]))}else S=Number(s.year),w=Number(s.month),$=Number(s.day);const E={y:S,m:w,d:$,hh:(j=K(s.hour))!=null?j:12,mm:Number((d=s.minute)!=null?d:0),gender:s.gender||"unknown",yearStem:(g=(x=s.sajuResult)==null?void 0:x.year)==null?void 0:g.stem},k=ae(s.sajuResult,{birth:E});p(k),ie(k,{signature:b}),i=k}const o=Ce();if(!!(o!=null&&o.text&&((y=o==null?void 0:o.meta)==null?void 0:y.signature)===b)){N(o.text);return}ce(s,e,i)}catch{F("ëª…ì‹ì„ ê³„ì‚°í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},[_,Y]);const J=!a&&!v,V=J||D&&!v,ue=({data:e})=>{var M,S,w,$;if(!e)return null;const n=e.calendar==="lunar"?"ìŒë ¥":"ì–‘ë ¥",j=(M=e.year)!=null?M:e.y,d=(S=e.month)!=null?S:e.m,x=(w=e.day)!=null?w:e.d,g=($=e.hour)!=null?$:e.hh,y=e.gender==="male"?"ë‚¨ì„±":e.gender==="female"?"ì—¬ì„±":e.gender||"ë¯¸ì…ë ¥",s=(e.mbti||"").toUpperCase()||"ë¯¸ì…ë ¥",b=e.calendar==="lunar"?e.leapMonth==="leap"||e.isLeap?"ìœ¤ë‹¬":"í‰ë‹¬":"-",l=(e.solarDate||"").replace(/-/g,"."),m=e.calendar==="lunar"&&l,i=Fe({year:j,month:d,day:x,hour:g}),o=m?K(g)===null?`${l} ëª¨ë¦„`:`${l} ${A(K(g))}ì‹œ`:"";return t.jsxs("div",{className:"info-box info-soft","aria-label":"ê¸°ë³¸ì •ë³´",style:{marginTop:10},children:[t.jsx("strong",{style:{display:"block",marginBottom:6},children:"ğŸ“‹ ê³„ì‚° ê¸°ì¤€ ì •ë³´(ì…ë ¥Â·ë³€í™˜ ìš”ì•½)"}),t.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[t.jsxs("li",{children:["ë‹¬ë ¥: ",t.jsx("strong",{children:n})]}),t.jsxs("li",{children:["ìƒë…„ì›”ì¼: ",t.jsx("strong",{children:i})]}),m&&t.jsxs("li",{children:["ì–‘ë ¥ë³€í™˜: ",t.jsx("strong",{children:o})]}),e.calendar==="lunar"&&t.jsxs("li",{children:["ìœ¤ë‹¬ ì—¬ë¶€: ",t.jsx("strong",{children:b})]}),t.jsxs("li",{children:["ì„±ë³„: ",t.jsx("strong",{children:y})]}),t.jsxs("li",{children:["MBTI: ",t.jsx("strong",{children:s})]}),t.jsxs("li",{children:["ì¡°íšŒì¼(KST): ",t.jsx("strong",{children:C})]})]})]})},X=r.useMemo(()=>typeof f=="string"&&f.trim().length>0,[f]),me=r.useMemo(()=>X&&!D&&!v,[X,D,v]);if(v&&!a)return t.jsx("div",{className:"calculator",children:t.jsx(de,{homeHref:"/"})});const{sajuResult:Z}=a||{};return t.jsxs("div",{className:"calculator",children:[t.jsx($e,{show:V,title:J?"ì‚¬ì£¼ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦":"AI í•´ì„ì„ ì¤€ë¹„í•˜ê³  ìˆì–´ìš”",message:J?"ì…ë ¥ê°’ì„ ê²€ì¦í•˜ê³  ëª…ì‹ì„ ê³„ì‚°í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤.":"í•œ ë²ˆ ìƒì„±ë˜ë©´ ê°™ì€ ì…ë ¥ì—ì„œëŠ” ë™ì¼í•œ ê²°ê³¼ê°€ ì œê³µë©ë‹ˆë‹¤."}),t.jsxs("div",{className:"card result","aria-busy":V?"true":"false",children:[t.jsx("h2",{children:"ì‚¬ì£¼íŒ”ì ê²°ê³¼"}),Z?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginTop:0},children:[t.jsx("h3",{style:{margin:"8px 0 0",fontSize:14,color:"var(--ink-soft)"},children:"ì¶œìƒ ì‚¬ì£¼ ê¸°ë‘¥"}),t.jsx(be,{pillars:Z})]}),t.jsx(ue,{data:a}),!D&&t.jsx(Re,{content:f,isLoading:!1,error:v}),me&&t.jsxs("details",{className:"info-box info-soft calc-notes",style:{marginTop:12},children:[t.jsx("summary",{children:"ğŸ“˜ ì´ ê²°ê³¼ëŠ” ì´ë ‡ê²Œ ê³„ì‚°í–ˆì–´ìš” (í¼ì¹˜ê¸°)"}),t.jsxs("div",{className:"calc-body",children:[t.jsxs("ol",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"ì…ë ¥ ì „ì²˜ë¦¬"}),": ìŒë ¥ ì„ íƒ ì‹œ ì–‘ë ¥ ë³€í™˜(ìœ¤ë‹¬ ë°˜ì˜)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì—°ì£¼"}),": ì…ì¶˜(â‰ˆ 2/4) ì´ì „ ì¶œìƒì€ ì „ë…„ìœ¼ë¡œ ê°„ì£¼ â†’ 1984ë…„=ê°‘ì ê¸°ì¤€ 10ê°„/12ì§€ ëª¨ë“ˆëŸ¬."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì›”ì£¼"}),": ì ˆê¸° ê²½ê³„ ê·¼ì‚¬í‘œë¡œ ì›”ì§€ ê²°ì •, ì›”ê°„ì€ ",t.jsx("em",{children:"ê¸°ë‘ë²•"}),"(å¯… ê¸°ì¤€ ìˆœê°€ì‚°)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì¼ì£¼"}),": ê¸°ì¤€ ê°‘ìì¼ ì•µì»¤ + ",t.jsx("em",{children:"ì¤‘ê²½ë²•"}),"(23:30 ì´í›„ ìµì¼)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì‹œì£¼"}),": å­ì‹œ 23:30 ì‹œì‘, 2ì‹œê°„ ë‹¨ìœ„ 12ì§€ ë¶„í• , ì¼ê°„ê·¸ë£¹ë³„ ì‹œì‘ê°„ ì ìš©."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì ˆê¸°"}),": 24ì ˆê¸° ì›”/ì¼ ê·¼ì‚¬í‘œë¡œ í˜„ì¬/ë‹¤ìŒ ì ˆê¸° í‘œê¸°."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì˜¤í–‰Â·ì‹ ê°•"}),": ê°„Â·ì§€Â·ì¥ê°„ ê°€ì¤‘ í•©ì‚° + ê³„ì ˆ ë³´ì • ì ìˆ˜ë¡œ íŒì •."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"í•©Â·ì¶©Â·í˜•Â·í•´Â·íŒŒÂ·ì›ì§„"}),": í‘œì¤€ í…Œì´ë¸”ë¡œ ì„±ë¦½ì—¬ë¶€ íƒì§€."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ê²©êµ­"}),": ì›”ì§€ ì˜¤í–‰ê³¼ ì¼ê°„ì˜ ìƒê·¹ê´€ê³„ë¡œ 1ì°¨ ë¶„ë¥˜."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ìš©ì‹ "}),": ì‹ ê°•ë„Â·ê³„ì ˆ ê¸°ë°˜ìœ¼ë¡œ ìˆœí™˜/ì¡°í›„ ìš©ì‹  ì°¸ì¡°."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ëŒ€ìš´"}),": ì¶œìƒâ†’ì ˆì…ê¹Œì§€ ì¼ìˆ˜ë¡œ í™˜ì‚°, 10ë…„ ì£¼ê¸° ì „ê°œ."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"ì„¸ìš´"}),": 1984=ê°‘ì ê¸°ì¤€ìœ¼ë¡œ ì—°ìš´ ì‚°ì¶œ."]})]}),t.jsx("p",{className:"caption",children:"â€» ì˜¤ëŠ˜ ë‚ ì§œ(todayKST)ëŠ” ê²°ê³¼ì˜ í‘œí˜„(ì¡°íšŒì¼Â·ë‚˜ì´) ì°¸ê³ ì—ë§Œ ì“°ì´ë©°, ì˜¤ëŠ˜ì˜ ì¼ì§„/ê¸°ë‘¥ ê³„ì‚°ì€ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."})]}),t.jsx("style",{children:`
                  .calc-notes > summary { cursor: pointer; font-weight: 600; color: var(--ink-strong, #222); list-style: none; }
                  .calc-notes[open] > summary { margin-bottom: 8px; }
                  .calc-body ol { margin: 0; padding-left: 18px; line-height: 1.6; }
                  .calc-body li { margin: 6px 0; }
                  .calc-body em { font-style: normal; color: var(--accent, #7a5af8); }
                  .calc-body .caption { margin-top: 8px; color: var(--ink-soft, #666); font-size: .9rem; }
                `})]}),W&&I?t.jsxs("details",{className:"info-box",style:{marginTop:12},children:[t.jsx("summary",{children:"ë³´ë‚¸ ë°ì´í„° ë¯¸ë¦¬ë³´ê¸° (AI í”„ë¡¬í”„íŠ¸ìš©)"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",marginTop:8},children:JSON.stringify(I,null,2)})]}):null,W&&R?t.jsxs("details",{className:"info-box",style:{marginTop:8},children:[t.jsx("summary",{children:"ë©”íƒ€ ë¯¸ë¦¬ë³´ê¸° (ì˜¤í–‰/ì‹ ê°•/í•©ì¶©/ê²©êµ­/ìš©ì‹ /ëŒ€ìš´/ì„¸ìš´)"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",marginTop:8},children:JSON.stringify(R,null,2)})]}):null]}):t.jsx("div",{className:"sr-only","aria-live":"polite",children:"ì‚¬ì£¼ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ìˆìŠµë‹ˆë‹¤â€¦"})]})]})};function ze(){const[a,c]=r.useState(!1),R=r.useRef(!1),p=r.useRef(!1),f=r.useRef(null);return r.useEffect(()=>{Se({title:"ì‚¬ì£¼ ê²°ê³¼",description:"ì…ë ¥í•˜ì‹  ì •ë³´ë¡œ ì‚¬ì£¼ë¥¼ ê³„ì‚°í•´ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.",path:"/#/result"})},[]),r.useEffect(()=>{document.body.classList.remove("scroll-lock")},[]),r.useEffect(()=>{const N=()=>{window.pageYOffset>8&&(p.current=!0)},D=()=>{p.current=!0},T=()=>{p.current=!0},v=U=>{["PageDown","End"," ","Spacebar"].includes(U.key)&&(p.current=!0)};window.addEventListener("scroll",N,{passive:!0}),window.addEventListener("wheel",D,{passive:!0}),window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("keydown",v);const F=f.current;let I;return F&&(I=new IntersectionObserver(U=>{for(const C of U)C.isIntersecting&&C.intersectionRatio>=.99&&p.current&&!R.current&&!Me()&&(R.current=!0,Le(),c(!0))},{root:null,threshold:[.99]}),I.observe(F)),()=>{window.removeEventListener("scroll",N),window.removeEventListener("wheel",D),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",v),I&&I.disconnect()}},[]),t.jsxs(t.Fragment,{children:[t.jsx(Ee,{}),t.jsx("div",{ref:f,"aria-hidden":!0,style:{height:1}}),t.jsx(Ae,{isOpen:a,onClose:()=>c(!1),pageTitle:"ì‚¬ì£¼ ê²°ê³¼",shareText:"ê²°ê³¼ê°€ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ ì§€ì¸ê³¼ ê³µìœ í•´ ë³´ì„¸ìš”."})]})}export{ze as default};
