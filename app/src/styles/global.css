/* ===== Design Tokens (VS Code Light+/Dark+ inspired) ===== */
:root{
  /* Light theme base — simpler, calmer palette */
  --bg:#f8fafc;              /* page background */
  --surface:#ffffff;          /* cards/panels */
  --ink:#0f172a;              /* primary text */
  --ink-strong:#0b1220;       /* headings/strong text */
  --ink-soft:#64748b;         /* secondary text */
  --border:#e5e7eb;           /* panel borders */
  --muted:#f1f5f9;            /* subtle fills */
  --accent:#2563eb;           /* refined blue */
  --accent-hover:#1d4ed8;
  --focus-ring:#2563eb;       /* focus outline */
  --link:#1d4ed8;             /* links */
  --link-hover:#1e40af;
  --input-bg:#ffffff;
  --input-fg:#0f172a;
  --input-border:#e5e7eb;
  --button-seg-active-bg:#ffffff; /* segmented active bg */
  --danger:#b91c1c;           /* error text */

  /* Domain accent (오행) stays as-is */
  --oh-wood:#0fa958;--oh-fire:#e53935;--oh-earth:#d4a514;--oh-metal:#9aa3ad;--oh-water:#1565c0;

  /* Radius/space/shadow — toned down for simplicity */
  --radius-xl:18px;--radius-lg:14px;--radius-md:10px;--radius-sm:8px;
  --space-4:16px;--space-6:24px;--space-8:32px;--space-10:40px;--space-12:48px;--space-16:64px;
  --shadow:0 1px 2px rgba(15,23,42,.06);
  --safe-top:env(safe-area-inset-top,0px);--safe-bottom:env(safe-area-inset-bottom,0px);
}

html{min-height:100%;}
body{
  min-height:100%;background:var(--bg);color:var(--ink);
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,Noto Sans KR,Apple SD Gothic Neo,Helvetica,Arial,sans-serif;
  letter-spacing:-0.01em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;overflow-y:auto;margin:0;padding:0;
}
a{color:var(--link);text-decoration:none}
a:hover{color:var(--link-hover)}
*{box-sizing:border-box}

::selection{ background:#aad6ff; color:#000; }

/* ===== Header / Nav ===== */
.site-header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(140%) blur(8px);background:var(--surface);border-bottom:1px solid var(--border)}
.navbar{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:12px 16px calc(12px + var(--safe-top));gap:var(--space-4)}
.brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:-0.02em}
.logo{width:32px;height:32px;border-radius:8px;display:grid;place-items:center;background:var(--surface);border:1px solid var(--border);font-size:14px}
.free-pill{font-size:12px;padding:4px 8px;border-radius:999px;background:var(--muted);color:var(--ink-soft);border:1px solid var(--border)}

.menu{display:none;gap:20px;align-items:center}
.menu>li{position:relative;list-style:none}
.menu>li>a, .menu>li>button.menu-button{padding:8px 6px;border-radius:10px;display:inline-block;border:none;background:none;color:inherit;font-size:inherit;cursor:pointer}
.menu>li:hover>a, .menu>li:hover>button.menu-button{background:var(--muted)}
.submenu{position:absolute;top:44px;left:0;min-width:260px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:8px;display:none}
.menu>li:hover .submenu{display:block}
.submenu a, .submenu button.submenu-button{display:block;padding:10px 12px;border-radius:10px;color:var(--ink-soft);border:none;background:none;width:100%;text-align:left;cursor:pointer}
.submenu a:hover, .submenu button.submenu-button:hover{background:var(--muted);color:var(--ink)}

.hamburger{-webkit-tap-highlight-color:transparent;display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;border:1px solid var(--border);background:var(--surface);box-shadow:var(--shadow);color:var(--ink)}

/* ===== Drawer (mobile) ===== */
.drawer-backdrop{position:fixed;inset:0;height:100dvh;background:rgba(0,0,0,.3);opacity:0;pointer-events:none;transition:opacity .25s ease;overscroll-behavior:contain}
.drawer{position:fixed;inset:0 auto 0 0;width:min(88%,320px);height:100dvh;background:var(--surface);transform:translateX(-100%);transition:transform .28s ease;border-right:1px solid var(--border);padding:16px 16px calc(16px + var(--safe-bottom));box-shadow:var(--shadow);overflow:hidden;overscroll-behavior:contain;z-index:60}
.drawer__content{display:flex;flex-direction:column;height:100%}
.drawer__scroll{flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch;padding-right:2px;scrollbar-width:none}
.drawer__scroll::-webkit-scrollbar{display:none}.drawer{scrollbar-width:none}.drawer::-webkit-scrollbar{display:none}
.drawer-open .drawer{transform:translateX(0)}.drawer-open .drawer-backdrop{opacity:1;pointer-events:auto}
.mobile-tree{list-style:none;padding:0;margin:0}
.mobile-tree>li{border-bottom:1px solid var(--border)}
.mobile-tree button{width:100%;text-align:left;padding:14px 6px;border:0;background:none;font-size:16px}
.mobile-sub{display:none;padding:8px 0 16px 6px}
.mobile-sub a, .mobile-sub button.mobile-sub-button{display:block;padding:8px 0;color:var(--ink-soft);border:none;background:none;width:100%;text-align:left;cursor:pointer}
.scroll-lock{position:fixed;top:0;left:0;right:0;overflow:hidden;touch-action:none}

@media(min-width:1024px){.menu{display:flex}.hamburger{display:none}}

/* ===== Hero ===== */
.hero{max-width:1200px;margin:0 auto;padding:48px 16px 24px;display:grid;gap:16px;align-items:center;grid-template-columns:1fr;text-align:center}
.hero h1{font-size:clamp(28px,5vw,40px);margin:0;letter-spacing:-0.02em}
.hero p{color:var(--ink-soft);margin:0 auto;max-width:720px;font-size:16px}

/* ===== Calculator Card ===== */
.calculator{max-width:980px;margin:24px auto 64px;padding:0 16px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-xl);box-shadow:var(--shadow);padding:18px;display:grid;gap:14px}
.card h2{margin:6px 0 0;font-size:20px}
.row{display:grid;gap:12px;grid-template-columns:1fr}
.row.cols-2{grid-template-columns:1fr 1fr}
.row.cols-4{grid-template-columns:repeat(4,1fr)}
@media(max-width:640px){.row,.row.cols-2,.row.cols-4{grid-template-columns:1fr}}
label{font-size:13px;color:var(--ink-soft);display:block;margin-bottom:6px}
select,.segmented{width:100%;border:1px solid var(--input-border);border-radius:var(--radius-md);padding:12px 12px;background:var(--input-bg);color:var(--input-fg);font-size:15px;line-height:1.2}
select{appearance:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%23888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');background-repeat:no-repeat;background-position:right 10px center}
.segmented{display:grid;grid-template-columns:1fr 1fr;padding:2px;gap:2px;background:var(--muted)}
.segmented button{border:0;border-radius:8px;background:transparent;padding:10px;font-size:15px;cursor:pointer}
.segmented button.active{background:var(--button-seg-active-bg);box-shadow:var(--shadow)}
.segmented button:focus-visible, select:focus-visible, .btn-primary:focus-visible, .btn-text:focus-visible { outline:2px solid var(--focus-ring); outline-offset:2px; }
.helper{font-size:12px;color:var(--ink-soft);margin-top:6px}
.actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end}
.restore-notice{background:var(--muted);border:1px solid var(--border);border-radius:var(--radius-md);padding:12px;margin-bottom:16px;color:var(--accent);font-size:14px;text-align:center;animation:slideDown 0.3s ease-out}
@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}
.btn-primary{background:var(--accent);color:#fff;padding:11px 14px;border-radius:10px;border:1px solid var(--accent);cursor:pointer;transition:background .15s ease, border-color .15s ease, box-shadow .15s ease}
.btn-primary:hover{background:var(--accent-hover);border-color:var(--accent-hover);box-shadow:0 1px 2px rgba(37,99,235,.25)}
.btn-primary:disabled{opacity:0.6;cursor:not-allowed}
.btn-text{background:transparent;border:0;color:var(--link);padding:10px 8px;cursor:pointer}
.btn-text:hover{color:var(--link-hover)}

/* Fieldset lock (폼 저장 후 비활성) */
.fieldset-locked{opacity:.98}
.fieldset-locked *{pointer-events:none !important;cursor:not-allowed !important}

/* Loading spinner */
.loading-spinner{
  border:2px solid var(--muted);border-top:2px solid var(--accent);border-radius:50%;width:16px;height:16px;
  animation:spin 1s linear infinite;display:inline-block;margin-right:8px;
}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

/* ===== Ohaeng utilities ===== */
.oh-wood{color:var(--oh-wood)}.oh-fire{color:var(--oh-fire)}.oh-earth{color:var(--oh-earth)}.oh-metal{color:var(--oh-metal)}.oh-water{color:var(--oh-water)}

/* ===== Result ===== */
.result{border-top:0;padding-top:0;margin-top:0}
.pillars{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:8px}
.pillar{border:1px solid var(--border);border-radius:10px;padding:12px;text-align:center;background:var(--surface)}
.pillar h3{margin:0 0 6px 0;font-size:13px;color:var(--ink-soft)}
.pill{font-size:20px;letter-spacing:.08em}
.gx{font-size:12px;color:var(--ink-soft);margin-top:6px}

/* ===== Info Box ===== */
.info-box{
  background:var(--muted);border:1px solid var(--border);border-radius:var(--radius-md);
  padding:12px;margin-top:12px;
}
.info-row{display:flex;align-items:center;margin-bottom:4px;}
.info-row:last-child{margin-bottom:0;}
.info-label{font-weight:600;color:var(--ink);margin-right:8px;min-width:80px;}
.info-value{color:var(--ink);}

/* Dark theme tokens (applied when [data-theme="dark"]) */
:root[data-theme="dark"]{
  /* VS Code Dark+ palette */
  --bg:#1e1e1e;              /* background */
  --surface:#252526;          /* panels */
  --ink:#d4d4d4;              /* editor.foreground */
  --ink-strong:#e5e7eb;       /* headings/strong text */
  --ink-soft:#a9a9a9;         /* secondary */
  --border:#3c3c3c;           /* borders */
  --muted:#2a2d2e;            /* muted fills */
  --accent:#0e639c;           /* button blue */
  --accent-hover:#1177bb;
  --focus-ring:#007fd4;
  --link:#3794ff;
  --link-hover:#4ea6ff;
  --input-bg:#3c3c3c;
  --input-fg:#d4d4d4;
  --input-border:#3c3c3c;
  --button-seg-active-bg:#3a3d41;
  --shadow:0 6px 18px rgba(0,0,0,.35),0 1px 2px rgba(0,0,0,.45);
  --danger:#f87171;           /* error text */
}

/* If no explicit theme set, respect system preference */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]){
    /* fallback to VS Code Dark+ when user prefers dark */
    --bg:#1e1e1e;--surface:#252526;--ink:#d4d4d4;--ink-soft:#a9a9a9;--border:#3c3c3c;--muted:#2a2d2e;--accent:#0e639c;
    --accent-hover:#1177bb;--focus-ring:#007fd4;--link:#3794ff;--link-hover:#4ea6ff;--input-bg:#3c3c3c;--input-fg:#d4d4d4;--input-border:#3c3c3c;--button-seg-active-bg:#3a3d41;
    --shadow:0 6px 18px rgba(0,0,0,.35),0 1px 2px rgba(0,0,0,.45);
  }
}
.info-sub{font-size:11px;color:var(--ink-soft);margin-top:4px;}
.site-header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(180%) blur(16px);background:var(--surface);border-bottom:1px solid var(--border)}
/* ===== Simple Navigation Cards (홈 빠른 메뉴) ===== */
.hamburger{-webkit-tap-highlight-color:transparent;display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;border:1px solid var(--border);background:var(--surface);box-shadow:var(--shadow);color:var(--ink)}
.nav-simple{display:flex;align-items:center;gap:12px;padding:14px}
.drawer{position:fixed;inset:0 auto 0 0;width:min(88%,320px);height:100dvh;background:var(--surface);transform:translateX(-100%);transition:transform .28s ease;border-right:1px solid var(--border);padding:16px 16px calc(16px + var(--safe-bottom));box-shadow:var(--shadow);overflow:hidden;overscroll-behavior:contain;z-index:60}
.nav-title{margin:0;font-weight:800;line-height:1.22}
.submenu{position:absolute;top:44px;left:0;min-width:260px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:8px;display:none}
@media(max-width:640px){
select,.segmented{width:100%;border:1px solid var(--input-border);border-radius:var(--radius-md);padding:12px 12px;background:var(--input-bg);color:var(--input-fg);font-size:15px;line-height:1.2}
  .nav-desc{font-size:15px;margin-top:0}
.segmented button.active{background:var(--button-seg-active-bg);box-shadow:var(--shadow)}

.pillar{border:1px solid var(--border);border-radius:12px;padding:12px;text-align:center;background:var(--surface)}
.quick-grid{ margin-top: 10px; }

}

/* Dark-theme select arrow color override */
:root[data-theme="dark"] select{
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%23bbb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
}

/* ===== Footer ===== */
footer{border-top:1px solid var(--border);padding:24px 16px;color:var(--ink-soft)}
.footer-wrap{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px}

/* AI 풀이 컨테이너: 내부에서 카드 스타일 처리 → 바깥 박스 제거 */
.ai-fortune{ margin-top:14px; padding:0; border:0; background:transparent; box-shadow:none; }

/* 절기 정보 스타일 */
.season-info{
  background:var(--muted);border:1px solid var(--border);border-radius:var(--radius-md);
  padding:12px;margin-top:12px;
}
.season-title{font-weight:600;color:var(--accent);margin-bottom:8px;}

/* ===== Edge-to-edge (모바일 좌우 공백 제거) ===== */
@media (max-width: 640px){
  .navbar{padding:12px 0 calc(12px + var(--safe-top));max-width:100%}
  .hero{padding:48px 0 24px;max-width:100%}
  .calculator{padding:0;max-width:100%;margin-left:0;margin-right:0}
  .card{border-radius:0;border-left-width:0;border-right-width:0;box-shadow:none}
  footer{padding:24px 0}
  .footer-wrap{max-width:100%;padding:0 0}
}

/* === Sajoo Pillars: PC 크게, 모바일 줄바꿈 방지 (only .pill 수정) === */
.pill{
  white-space: nowrap;
  display: inline-block;
  line-height: 1.1;
}
@media (min-width: 1024px){
  .pill{ font-size: 26px; }
}
@media (max-width: 640px){
  .pill{ font-size: clamp(16px, 6vw, 20px); }
}

/* === 추가 1) 한자 밑 보조표기 .gx — 모바일에서 더 작게 === */
@media (max-width: 640px){
  .gx{
    font-size: clamp(9px, 2.4vw, 10px); /* 기본 12px 대비 확실히 더 작게 */
  }
}

/* === 추가 2) 모바일 왼쪽 그림자 제거(드로어 섀도우 OFF) === */
@media (max-width: 640px){
  .drawer{ box-shadow: none !important; }
}

/* ==== Fancy AI Loader (for API calls) ==================================== */
.ai-loader-wrap{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:12px;padding:12px 8px;text-align:center;
}
.ai-loader-caption{
  font-size:12px;color:var(--ink-soft);
}

/* 무대: 중앙 정렬 + 살짝 입체감 */
.ai-loader-stage{
  position:relative;width:88px;height:88px;display:grid;place-items:center;
  filter:drop-shadow(0 8px 22px rgba(10,132,255,.18));
}

/* 바깥 점선 궤도 */
.ai-orbit{
  position:absolute;inset:0;border-radius:9999px;
  border:2px dashed rgba(0,0,0,.08);
  animation:orbit-spin 6s linear infinite;
}

/* 메인 링: conic-gradient + 마스크로 속 빈 링 */
.ai-loader{
  width:72px;height:72px;border-radius:9999px;
  background:conic-gradient(
    from 0deg,
    #0a84ff 0%,
    #7a5af8 18%,
    #0fa958 36%,
    #d4a514 54%,
    #e53935 72%,
    #0a84ff 100%
  );
  -webkit-mask:radial-gradient(farthest-side, transparent 62%, #000 63%);
          mask:radial-gradient(farthest-side, transparent 62%, #000 63%);
  animation:loader-spin 1.15s linear infinite;
}

/* 중앙 핵(빛나는 점) */
.ai-loader-core{
  position:absolute;width:12px;height:12px;border-radius:9999px;background:var(--accent);
  box-shadow:
    0 0 0 10px rgba(10,132,255,.12),
    0 0 24px rgba(10,132,255,.55),
    0 0 48px rgba(10,132,255,.35);
  animation:pulse 1.8s ease-in-out infinite;
}

@keyframes loader-spin{to{transform:rotate(360deg)}}
@keyframes orbit-spin{to{transform:rotate(-360deg)}}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.15)}
}

/* 다크모드 대비(있다면) */
@media (prefers-color-scheme: dark){
  .ai-orbit{border-color:rgba(255,255,255,.1)}
}

/* lock용 fieldset의 기본 테두리 제거 */
.calculator .card > fieldset {
  border: 0;
  margin: 0;
  padding: 0;
}

/* fieldset 기본 테두리 제거(이미 적용했다면 중복 OK) */
.calculator .card > fieldset { border: 0; margin: 0; padding: 0; -webkit-appearance: none; appearance: none; }

/* 모바일: row가 1열로 강제되는 기본 규칙을 부분적으로 덮어써서
   '년도+월' / '일+시'를 2열로 유지 */
@media (max-width:640px){
  .row.sm-cols-2{ grid-template-columns: 1fr 1fr; }
  .only-desktop{ display: none !important; } /* 데스크톱 전용 요소 숨김(모바일에서) */
}

/* 데스크톱 이상에선 모바일 전용 숨김 */
@media (min-width:641px){
  .only-mobile{ display: none !important; }
}

/* 모바일에서 MBTI(only-mobile) 행 위 간격 맞추기 */
@media (max-width:640px){
  .calculator .card fieldset .row.only-mobile{
    margin-top: var(--space-4); /* 16px: 카드의 기본 세로 리듬과 일치 */
    /* 필요 시 정확히 .row의 gap(12px)에 맞추려면 아래로 바꿔도 됩니다.
       margin-top: 12px; */
  }
}

/* ===== 모바일 전용: 빠른 메뉴 카드 디자인 보강 ===== */
@media (max-width: 640px) {
  /* 1) 카드 컨테이너를 단일열 + 좌우 인세트(여백) */
  .calculator .row[aria-label="빠른 메뉴"]{
    /* 단일 열 */
    grid-template-columns: 1fr;
    /* 카드 사이 간격(기존 gx와 조화롭게) */
    gap: var(--space-4, 16px);
    /* 화면 안쪽으로 들어오도록 좌우 인세트 */
    padding-inline: var(--space-4, 16px);
    /* 스크롤 이동 시 상단이 딱 붙지 않도록 여유 */
    scroll-margin-top: var(--space-5, 20px);
  }

  /* 2) 각 카드의 시각적 강조 & 터치 피드백 */
  .calculator .row[aria-label="빠른 메뉴"] > .card{
    border-radius: var(--radius-xl, 14px);
    border: 1px solid var(--border, #e5e7eb);
    box-shadow: var(--shadow-2, 0 6px 20px rgba(0,0,0,.06));
    overflow: hidden; /* 라운드 반영 */
    transition: transform .06s ease, box-shadow .2s ease;
  }

  /* 터치 시 살짝 눌리는 느낌 */
  .calculator .row[aria-label="빠른 메뉴"] > .card:active{
    transform: translateY(1px);
  }

  /* 3) 카드 내부 타이포 간격 정돈(옵션) */
  .calculator .row[aria-label="빠른 메뉴"] > .card .h3{
    margin-top: var(--space-2, 8px);
    margin-bottom: var(--space-2, 8px);
    line-height: 1.25;
  }
  .calculator .row[aria-label="빠른 메뉴"] > .card .muted{
    margin-bottom: var(--space-3, 12px);
  }

  /* 4) 버튼은 모바일에선 가로 꽉 차게 */
  .calculator .row[aria-label="빠른 메뉴"] > .card .actions{
    display: flex;
  }
  .calculator .row[aria-label="빠른 메뉴"] > .card .actions .btn-primary,
  .calculator .row[aria-label="빠른 메뉴"] > .card .actions .btn-text{
    width: 100%;
  }
}

/* 입력폼(Card)과 '빠른 메뉴' 카드 그리드 사이 간격 */
.calculator .card + .row[aria-label="빠른 메뉴"]{
  margin-top: var(--space-6, 24px); /* 데스크톱 기본 간격 */
}

/* 모바일에서는 조금 더 여유를 줌 */
@media (max-width: 640px){
  .calculator .card + .row[aria-label="빠른 메뉴"]{
    margin-top: var(--space-7, 28px);
  }
}

/* ===== Sticky Footer 레이아웃 ===== */
/* 루트 높이 채우기 */
html, body, #root { height: 100%; }

/* Layout.jsx의 최상위 래퍼: <div class="app"> */
.app{
  min-height: 100dvh;            /* 뷰포트 높이 채우기 */
  display: flex;
  flex-direction: column;
}

/* 메인 영역이 남는 공간을 채우게 */
.app > main{
  flex: 1 0 auto;
}

/* 푸터를 항상 아래로 밀어내기 */
.app > footer{
  margin-top: auto;               /* 콘텐츠가 적어도 바닥으로 */
}

/* (선택) 푸터 높이 고정 & 세이프 에어리어 보강 */
footer{
  min-height: 64px;               /* 원하는 값으로 조절 가능 (예: 72px) */
  display: block;
  padding-bottom: calc(24px + var(--safe-bottom, 0px)); /* iOS 홈인디케이터 여백 */
}

/* ==== Scroll lock 안전 오버라이드 (모달/드로어 충돌 방지) ==== */
body.scroll-lock { 
  /* 과거 구현에서 쓰던 position:fixed, inset:0 등은 금지 */
  position: static !important;
  overflow: hidden !important;
  overscroll-behavior: contain;
  touch-action: none;
}

/* 혹시 남아있는 강제 숨김을 되살리기 위한 기본값 보정 */
html, body { overflow: auto; }

/* ===== Mobile-only form fixes: avoid IME/composition / native duplicated arrows ===== */
@media (max-width: 640px) {
  /* IME/composition on some Android/iOS renders poorly when global letter-spacing != normal */
  input, textarea, select, button {
    letter-spacing: normal !important;
    -webkit-text-size-adjust: 100%;
  }

  /* Make select rendering consistent on small screens by hiding native caret
     and drawing a controlled caret from the wrapper. This only applies on mobile. */
  .field { position: relative; }

  /* remove native appearance and ensure room for the custom caret */
  .field select, select {
    -webkit-appearance: none;
    appearance: none;
    -moz-appearance: none;
    background-repeat: no-repeat !important;
    background-position: right 10px center !important;
    padding-right: 40px !important;
  }

  /* Place the caret as a background-image on the <select> itself so it's vertically centered */
  .field select, select {
    -webkit-appearance: none;
    appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%23888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
    background-repeat: no-repeat !important;
    background-position: right 10px center !important;
    background-size: 18px 18px !important;
    padding-right: 40px !important;
  }

  /* Hide native dropdown arrow for IE/Edge on small screens */
  select::-ms-expand { display: none; }

  /* Hide IE/Edge native dropdown arrow on small screens */
  select::-ms-expand { display: none; }
}

